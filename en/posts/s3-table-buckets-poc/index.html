<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=theme-color><title>S3 Table Buckets PoC: Evaluating Managed Iceberg for CDC Workloads &#183; nanta - Data Engineering</title><meta name=title content="S3 Table Buckets PoC: Evaluating Managed Iceberg for CDC Workloads &#183; nanta - Data Engineering"><meta name=description content="AWS S3 Table Buckets offer managed Iceberg tables with automatic compaction. We ran a PoC to see if they could solve our CDC table compaction problem. We validated Trino, Spark, and Kafka Connect integration, examined auto-compaction behavior, and assessed costs. The conclusion: not a fit for every table, but valuable specifically for CDC workloads with unpredictable partition-level updates."><meta name=keywords content="iceberg,s3,aws,trino,spark,kafka-connect,compaction,managed-service,"><link rel=canonical href=https://nanta-data.dev/en/posts/s3-table-buckets-poc/><meta name=author content="nanta"><link href=https://github.com/NhoSW rel=me><meta property="og:url" content="https://nanta-data.dev/en/posts/s3-table-buckets-poc/"><meta property="og:site_name" content="nanta - Data Engineering"><meta property="og:title" content="S3 Table Buckets PoC: Evaluating Managed Iceberg for CDC Workloads"><meta property="og:description" content="AWS S3 Table Buckets offer managed Iceberg tables with automatic compaction. We ran a PoC to see if they could solve our CDC table compaction problem. We validated Trino, Spark, and Kafka Connect integration, examined auto-compaction behavior, and assessed costs. The conclusion: not a fit for every table, but valuable specifically for CDC workloads with unpredictable partition-level updates."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-02-27T00:00:00+00:00"><meta property="article:modified_time" content="2026-02-27T00:00:00+00:00"><meta property="article:tag" content="Iceberg"><meta property="article:tag" content="S3"><meta property="article:tag" content="Aws"><meta property="article:tag" content="Trino"><meta property="article:tag" content="Spark"><meta property="article:tag" content="Kafka-Connect"><meta name=twitter:card content="summary"><meta name=twitter:title content="S3 Table Buckets PoC: Evaluating Managed Iceberg for CDC Workloads"><meta name=twitter:description content="AWS S3 Table Buckets offer managed Iceberg tables with automatic compaction. We ran a PoC to see if they could solve our CDC table compaction problem. We validated Trino, Spark, and Kafka Connect integration, examined auto-compaction behavior, and assessed costs. The conclusion: not a fit for every table, but valuable specifically for CDC workloads with unpredictable partition-level updates."><link type=text/css rel=stylesheet href=/css/main.bundle.min.c14e86e0d9a09802d254d2a15c05847ae65bfc2e98c2166fabc67369d2d7f2eae6c1da03bbba58cfd41a4af802147c75ce9fdc11dd724ac627ab2903942cbb79.css integrity="sha512-wU6G4NmgmALSVNKhXAWEeuZb/C6YwhZvq8ZzadLX8urmwdoDu7pYz9QaSvgCFHx1zp/cEd1ySsYnqykDlCy7eQ=="><script type=text/javascript src=/js/appearance.min.6f41174b3a05b680820fe08cadbfa5fb7a7ca347b76a0955cdc68b9d8aca1ce24f0547e138cea33bcc7904d551a90afcb1cc7f2d9fe8557075d501419046c08c.js integrity="sha512-b0EXSzoFtoCCD+CMrb+l+3p8o0e3aglVzcaLnYrKHOJPBUfhOM6jO8x5BNVRqQr8scx/LZ/oVXB11QFBkEbAjA=="></script><script src=/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7+kfJ6kKCJxQGC+8wm+Bz9JucDjDTGNew=="></script><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.bdda7dece6cbaf08deef7d254f7f842f3261c2524d247905127c9a20decc03f1011a2950048464c79272c1ce0705a49a41147f39f2b95163bb71d404b33263ef.js integrity="sha512-vdp97ObLrwje730lT3+ELzJhwlJNJHkFEnyaIN7MA/EBGilQBIRkx5Jywc4HBaSaQRR/OfK5UWO7cdQEszJj7w==" data-copy=Copy data-copied=Copied></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Posts","name":"S3 Table Buckets PoC: Evaluating Managed Iceberg for CDC Workloads","headline":"S3 Table Buckets PoC: Evaluating Managed Iceberg for CDC Workloads","inLanguage":"en","url":"https://nanta-data.dev/en/posts/s3-table-buckets-poc/","author":{"@type":"Person","name":"nanta"},"copyrightYear":"2026","dateCreated":"2026-02-27T00:00:00\u002b00:00","datePublished":"2026-02-27T00:00:00\u002b00:00","dateModified":"2026-02-27T00:00:00\u002b00:00","keywords":["iceberg","s3","aws","trino","spark","kafka-connect","compaction","managed-service"],"mainEntityOfPage":"true","wordCount":"1948"}]</script><link rel=preconnect href=https://cdn.jsdelivr.net crossorigin><link href=https://cdn.jsdelivr.net/npm/geist@1.3.1/dist/fonts/geist-sans/style.min.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/geist@1.3.1/dist/fonts/geist-mono/style.min.css rel=stylesheet><meta name=google-adsense-account content="ca-pub-9172052068678434"></head><body class="flex flex-col h-screen m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32 text-lg bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral bf-scrollbar"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 pe-2 dark:text-primary-400">&darr;</span>
Skip to main content</a></div><div class=min-h-[148px]></div><div class="fixed inset-x-0 z-100"><div id=menu-blur class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl shadow-2xl bg-neutral/25 dark:bg-neutral-800/25"></div><div class="relative m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32"><div class="main-menu flex items-center w-full gap-2 p-1 pl-0"><a href=/en/ class="text-base font-medium truncate min-w-0 shrink">nanta - Data Engineering</a><div class="flex items-center ms-auto"><div class="hidden md:flex"><nav class="flex items-center gap-x-5 h-12"><a href=/en/posts/ class="flex items-center bf-icon-color-hover" aria-label=Posts title=Posts><span class="text-base font-medium break-normal">Posts
</span></a><a href=/en/categories/ class="flex items-center bf-icon-color-hover" aria-label=Categories title=Categories><span class="text-base font-medium break-normal">Categories
</span></a><a href=/en/tags/ class="flex items-center bf-icon-color-hover" aria-label=Tags title=Tags><span class="text-base font-medium break-normal">Tags
</span></a><a href=/en/about/ class="flex items-center bf-icon-color-hover" aria-label=About title=About><span class="text-base font-medium break-normal">About</span></a><div class="translation nested-menu"><button class="cursor-pointer flex items-center">
<span class=me-1><span class="relative block icon"><svg viewBox="0 0 640 512"><path fill="currentColor" d="M0 128C0 92.7 28.7 64 64 64H256h48 16H576c35.3.0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H320 304 256 64c-35.3.0-64-28.7-64-64V128zm320 0V384H576V128H320zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1.1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1h73.6l8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2 179 276H141l19-42.8zM448 164c11 0 20 9 20 20v4h44 16c11 0 20 9 20 20s-9 20-20 20h-2l-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4.9.6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9L467 333.8c-4.5-2.7-8.8-5.5-13.1-8.5-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8L410 286.1c-7.8-7.8-7.8-20.5.0-28.3s20.5-7.8 28.3.0l14.6 14.6.5.5c12.4-13.1 22.5-28.3 29.8-45H448 376c-11 0-20-9-20-20s9-20 20-20h52v-4c0-11 9-20 20-20z"/></svg></span>
</span><span class="text-sm font-medium bf-icon-color-hover" title="S3 Table Buckets PoC: Evaluating Managed Iceberg for CDC Workloads">EN</span></button><ul class=menuhide><li class="rounded-xl backdrop-blur shadow-2xl p-2 flex flex-col gap-1"><a href=/posts/s3-table-buckets-poc/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="S3 테이블 버킷 도입 검토: 매니지드 Iceberg의 가능성과 한계">한국어
</span></a><a href=/en/posts/s3-table-buckets-poc/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="S3 Table Buckets PoC: Evaluating Managed Iceberg for CDC Workloads">English</span></a></li></ul></div><button id=search-button aria-label=Search class="text-base bf-icon-color-hover" title="Search (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button><div class="flex items-center"><button id=appearance-switcher aria-label="Dark mode switcher" type=button class="text-base bf-icon-color-hover"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></nav></div><div class="flex md:hidden"><div class="flex items-center h-14 gap-4"><button id=search-button-mobile aria-label=Search class="flex items-center justify-center bf-icon-color-hover" title="Search (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></button>
<button id=appearance-switcher-mobile type=button aria-label="Dark mode switcher" class="flex items-center justify-center text-neutral-900 hover:text-primary-600 dark:text-neutral-200 dark:hover:text-primary-400"><div class=dark:hidden><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="hidden dark:block"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button>
<input type=checkbox id=mobile-menu-toggle autocomplete=off class="hidden peer">
<label for=mobile-menu-toggle class="flex items-center justify-center cursor-pointer bf-icon-color-hover"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></label><div role=dialog aria-modal=true style=scrollbar-gutter:stable class="fixed inset-0 z-50 invisible overflow-y-auto px-6 py-20 opacity-0 transition-[opacity,visibility] duration-300 peer-checked:visible peer-checked:opacity-100 bg-neutral-50/97 dark:bg-neutral-900/99
bf-scrollbar"><label for=mobile-menu-toggle class="fixed end-8 top-5 flex items-center justify-center z-50 h-12 w-12 cursor-pointer select-none rounded-full bf-icon-color-hover border bf-border-color bf-border-color-hover bg-neutral-50 dark:bg-neutral-900"><span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></label><nav class="mx-auto max-w-md space-y-6"><div class=px-2><a href=/en/posts/ aria-label=Posts class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title=Posts class="text-2xl font-bold tracking-tight">Posts</span></a></div><div class=px-2><a href=/en/categories/ aria-label=Categories class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title=Categories class="text-2xl font-bold tracking-tight">Categories</span></a></div><div class=px-2><a href=/en/tags/ aria-label=Tags class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title=Tags class="text-2xl font-bold tracking-tight">Tags</span></a></div><div class=px-2><a href=/en/about/ aria-label=About class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title=About class="text-2xl font-bold tracking-tight">About</span></a></div><div class="flex flex-wrap items-center [&_span]:text-2xl [&_.translation_button_.icon]:text-4xl! [&_.translation_button_span]:text-base! [&_.translation_.menuhide_span]:text-sm! gap-x-6 ps-2 mt-8 pt-8 border-t bf-border-color"><div class="translation nested-menu"><button class="cursor-pointer flex items-center">
<span class=me-1><span class="relative block icon"><svg viewBox="0 0 640 512"><path fill="currentColor" d="M0 128C0 92.7 28.7 64 64 64H256h48 16H576c35.3.0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H320 304 256 64c-35.3.0-64-28.7-64-64V128zm320 0V384H576V128H320zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1.1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1h73.6l8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2 179 276H141l19-42.8zM448 164c11 0 20 9 20 20v4h44 16c11 0 20 9 20 20s-9 20-20 20h-2l-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4.9.6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9L467 333.8c-4.5-2.7-8.8-5.5-13.1-8.5-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8L410 286.1c-7.8-7.8-7.8-20.5.0-28.3s20.5-7.8 28.3.0l14.6 14.6.5.5c12.4-13.1 22.5-28.3 29.8-45H448 376c-11 0-20-9-20-20s9-20 20-20h52v-4c0-11 9-20 20-20z"/></svg></span>
</span><span class="text-sm font-medium bf-icon-color-hover" title="S3 Table Buckets PoC: Evaluating Managed Iceberg for CDC Workloads">EN</span></button><ul class=menuhide><li class="rounded-xl backdrop-blur shadow-2xl p-2 flex flex-col gap-1"><a href=/posts/s3-table-buckets-poc/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="S3 테이블 버킷 도입 검토: 매니지드 Iceberg의 가능성과 한계">한국어
</span></a><a href=/en/posts/s3-table-buckets-poc/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="S3 Table Buckets PoC: Evaluating Managed Iceberg for CDC Workloads">English</span></a></li></ul></div></div></nav></div></div></div></div></div></div></div><script type=text/javascript src=/js/background-blur.min.605b3b942818f0ab5a717ae446135ec46b8ee5a2ad12ae56fb90dc2a76ce30c388f9fec8bcc18db15bd47e3fa8a09d779fa12aa9c184cf614a315bc72c6c163d.js integrity="sha512-YFs7lCgY8KtacXrkRhNexGuO5aKtEq5W+5DcKnbOMMOI+f7IvMGNsVvUfj+ooJ13n6EqqcGEz2FKMVvHLGwWPQ==" data-blur-id=menu-blur></script><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header id=single_header class="mt-5 max-w-prose"><ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden"><li class=hidden><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/en/>nanta - Data Engineering</a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/en/posts/>Posts</a><span class="px-1 text-primary-500">/</span></li><li class=hidden><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/en/posts/s3-table-buckets-poc/>S3 Table Buckets PoC: Evaluating Managed Iceberg for CDC Workloads</a><span class="px-1 text-primary-500">/</span></li></ol><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">S3 Table Buckets PoC: Evaluating Managed Iceberg for CDC Workloads</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime=2026-02-27T00:00:00+00:00>27 February 2026</time><span class="px-2 text-primary-500">&#183;</span><span title="Reading time">10 mins</span></div></div><div class="flex author"><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">Author</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">nanta</div><div class="text-sm text-neutral-700 dark:text-neutral-400">Data Engineering blog covering Apache Kafka, Airflow, Trino, StarRocks, and modern data infrastructure. Sharing practical lessons from production.</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://github.com/NhoSW target=_blank aria-label=Github title=Github rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></span></a></div></div></div></div><div class=mb-5></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first lg:ms-auto px-0 lg:order-last lg:ps-8 lg:max-w-2xs"><div class="toc ps-5 print:hidden lg:sticky lg:top-[140px]"><details open id=TOCView class="toc-right mt-0 overflow-y-auto overscroll-contain bf-scrollbar rounded-lg -ms-5 ps-5 pe-2 hidden lg:block"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="min-w-[220px] py-2 border-dotted border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#managed-service-concerns>Managed Service Concerns</a></li><li><a href=#glue-rest-catalog-integration>Glue REST Catalog Integration</a><ul><li><a href=#cant-manage-both-in-one-catalog>Can&rsquo;t Manage Both in One Catalog</a></li><li><a href=#ddl-limitations>DDL Limitations</a></li><li><a href=#lakeformation-permissions>LakeFormation Permissions</a></li></ul></li><li><a href=#trino-integration>Trino Integration</a><ul><li><a href=#fault-tolerant-mode-incompatibility>Fault-Tolerant Mode Incompatibility</a></li></ul></li><li><a href=#spark-integration>Spark Integration</a></li><li><a href=#kafka-connect-integration>Kafka Connect Integration</a></li><li><a href=#auto-compaction-review>Auto-Compaction Review</a><ul><li><a href=#behavior>Behavior</a></li><li><a href=#cost>Cost</a></li><li><a href=#not-needed-for-append-only-tables>Not Needed for Append-Only Tables</a></li></ul></li><li><a href=#cdc-sink-table-poc>CDC Sink Table PoC</a></li><li><a href=#takeaways>Takeaways</a></li></ul></nav></div></details><details class="toc-inside mt-0 overflow-hidden rounded-lg -ms-5 ps-5 lg:hidden"><summary class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="py-2 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#managed-service-concerns>Managed Service Concerns</a></li><li><a href=#glue-rest-catalog-integration>Glue REST Catalog Integration</a><ul><li><a href=#cant-manage-both-in-one-catalog>Can&rsquo;t Manage Both in One Catalog</a></li><li><a href=#ddl-limitations>DDL Limitations</a></li><li><a href=#lakeformation-permissions>LakeFormation Permissions</a></li></ul></li><li><a href=#trino-integration>Trino Integration</a><ul><li><a href=#fault-tolerant-mode-incompatibility>Fault-Tolerant Mode Incompatibility</a></li></ul></li><li><a href=#spark-integration>Spark Integration</a></li><li><a href=#kafka-connect-integration>Kafka Connect Integration</a></li><li><a href=#auto-compaction-review>Auto-Compaction Review</a><ul><li><a href=#behavior>Behavior</a></li><li><a href=#cost>Cost</a></li><li><a href=#not-needed-for-append-only-tables>Not Needed for Append-Only Tables</a></li></ul></li><li><a href=#cdc-sink-table-poc>CDC Sink Table PoC</a></li><li><a href=#takeaways>Takeaways</a></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-fit"><div class="article-content max-w-prose mb-20"><p>S3 Table Buckets launched in the Seoul region in March 2025. In one line: managed Iceberg tables. AWS handles automatic compaction and snapshot management, and claims higher TPS and throughput than standard S3 buckets.</p><p>The reason this caught our attention was clear. CDC sink table compaction had been a persistent headache.</p><p>Here&rsquo;s the compaction problem with CDC tables. Even with time partitions, non-history source tables generate updates and deletes across all partitions. For example, if a user who signed up three years ago changes their nickname today, that generates a delete marker and a new record in the three-year-old partition. Setting the compaction window to the last 5 days leaves files outside that range uncompacted. Extending it to 30 days doesn&rsquo;t solve it either. Full-range compaction can cost tens to hundreds of dollars depending on table size, and the execution time is long enough to impact other queries.</p><p>Could automatic compaction solve this? We ran a PoC.</p><hr><h2 class="relative group">Managed Service Concerns<div id=managed-service-concerns class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#managed-service-concerns aria-label=Anchor>#</a></span></h2><p>Alongside the excitement, there were genuine concerns. Three things worried us.</p><p>First, the black box problem. When issues arise in a managed service, you can&rsquo;t look inside. When compaction doesn&rsquo;t run, your options for understanding why are limited. On top of that, the service had only been out for a few months, so real-world usage reports and troubleshooting references were scarce.</p><p>Second, a painful past experience. S3 Table Buckets weren&rsquo;t actually AWS&rsquo;s first attempt at managed Iceberg compaction. Glue/LakeFormation had previously offered a managed compaction feature, which internally ran as Glue-based Spark procedure invocation jobs. The problem: on heavy tables, it failed silently. No error logs, just no compaction. Hundreds of files would pile up, but the Glue job history showed &ldquo;success.&rdquo; We eventually went back to running our own compaction batches. The same thing could happen again.</p><p>Third, cost. S3 Table Bucket storage is more expensive than standard S3 buckets, with additional charges for automatic compaction. We needed to verify whether the convenience of managed compaction justified the premium.</p><hr><h2 class="relative group">Glue REST Catalog Integration<div id=glue-rest-catalog-integration class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#glue-rest-catalog-integration aria-label=Anchor>#</a></span></h2><p>S3 Table Buckets are accessed through the Glue Data Catalog&rsquo;s Iceberg REST endpoint. This requires a REST-type catalog (<code>type=rest</code>), separate from the existing Glue-type catalog (<code>type=glue</code>).</p><p>This architectural decision cascaded into several downstream constraints.</p><h3 class="relative group">Can&rsquo;t Manage Both in One Catalog<div id=cant-manage-both-in-one-catalog class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#cant-manage-both-in-one-catalog aria-label=Anchor>#</a></span></h3><p>The first finding from the PoC. A single Iceberg catalog cannot manage both S3 Table Bucket tables and existing S3 bucket Iceberg tables. The root cause is that LakeFormation permission policies are separated at the catalog level. REST-type catalogs and Glue-type catalogs are governed by different permission hierarchies in LakeFormation.</p><p>This directly affects user experience. A separate Trino catalog must be added, and users need to know which catalog holds which tables.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Existing tables:     iceberg.raw_log.weblog_common
</span></span><span class=line><span class=cl>Table bucket tables: iceberg_managed.raw_log.weblog_common_managed</span></span></code></pre></div></div><p>Joining existing tables with table bucket tables requires cross-catalog queries. Not a common pattern, but during migration validation we frequently needed to compare data between the two, which was cumbersome.</p><h3 class="relative group">DDL Limitations<div id=ddl-limitations class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#ddl-limitations aria-label=Anchor>#</a></span></h3><p>Some DDL operations are not supported with REST-type catalogs. This is a Glue REST API limitation, not a Trino constraint.</p><ul><li><strong>CREATE TABLE</strong>: The Glue REST Catalog doesn&rsquo;t support the stage-create API that the Trino Iceberg connector depends on. Tables must be created through the AWS console or Spark.</li><li><strong>RENAME TABLE</strong>: Explicitly documented as unsupported in the Glue REST API.</li></ul><p>SELECT, INSERT, and other read/write operations work normally. Hive-to-Iceberg table redirection works, but Iceberg-to-Hive redirection is not supported with REST catalogs.</p><p>The CREATE TABLE limitation is particularly inconvenient operationally. Each new CDC table requires opening a Spark session to create it. In practice though, the Kafka Connect Iceberg sink connector handles table auto-creation, so we only need to pre-create the schema and table bucket namespace.</p><h3 class="relative group">LakeFormation Permissions<div id=lakeformation-permissions class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#lakeformation-permissions aria-label=Anchor>#</a></span></h3><p>S3 Table Buckets have LakeFormation integration enabled by default. Every IAM role accessing the data — Trino workers, Kafka Connect, Spark — needs explicit LakeFormation permissions at the table, schema, or catalog level.</p><p>The trickiest part is the failure mode when permissions are missing. No error is thrown. The catalog simply appears empty. <code>SHOW TABLES</code> returns an empty result, and <code>SELECT</code> returns &ldquo;Table not found.&rdquo; There&rsquo;s no way to tell whether the table genuinely doesn&rsquo;t exist or whether you lack permissions.</p><p>We lost considerable time on this during early PoC work. We reconfigured the Trino catalog three times before realizing it was a missing LakeFormation grant. After that experience, we created a checklist that starts with LakeFormation permissions for any S3 Table Bucket issue.</p><hr><h2 class="relative group">Trino Integration<div id=trino-integration class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#trino-integration aria-label=Anchor>#</a></span></h2><p>Trino v471 added read support for S3 Table Buckets. Both reads and writes are available in our current v476.</p><h3 class="relative group">Fault-Tolerant Mode Incompatibility<div id=fault-tolerant-mode-incompatibility class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#fault-tolerant-mode-incompatibility aria-label=Anchor>#</a></span></h3><p>An important constraint discovered during the PoC. Writing to S3 Table Buckets with Trino&rsquo;s fault-tolerance (<code>retry_policy</code>) enabled causes errors.</p><p>The suspected cause is the internal path structure of table buckets. Table buckets use a different path structure than standard S3. Trino&rsquo;s fault-tolerant mode lists intermediate write results to determine retry behavior, and this listing API is incompatible with the table bucket path structure. An issue is open in the Trino community but remains unresolved.</p><p>The workaround is setting <code>retry_policy</code> to <code>NONE</code> for the query session. Disabling fault-tolerant mode allows writes to succeed. However, since this is a session-level setting, users must remember to set it when writing to table buckets. Batch jobs can have it hardcoded, but interactive queries require manual configuration each time.</p><hr><h2 class="relative group">Spark Integration<div id=spark-integration class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#spark-integration aria-label=Anchor>#</a></span></h2><p>EMR Spark can query S3 Table Bucket Iceberg tables through the Glue REST Catalog endpoint.</p><p>Two integration paths exist. AWS&rsquo;s open-source S3 Tables Catalog library requires EMR v7.5+, but using the Glue REST endpoint directly works on EMR v6.14. Since our environment still runs EMR v6.14, we used the direct REST endpoint approach. It works without issues.</p><p>Spark session configuration:</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-properties data-lang=properties><span class=line><span class=cl><span class=na>spark.sql.catalog.iceberg_managed</span><span class=o>=</span><span class=s>org.apache.iceberg.spark.SparkCatalog</span>
</span></span><span class=line><span class=cl><span class=na>spark.sql.catalog.iceberg_managed.type</span><span class=o>=</span><span class=s>rest</span>
</span></span><span class=line><span class=cl><span class=na>spark.sql.catalog.iceberg_managed.uri</span><span class=o>=</span><span class=s>https://glue.ap-northeast-2.amazonaws.com/iceberg</span>
</span></span><span class=line><span class=cl><span class=na>spark.sql.catalog.iceberg_managed.rest.sigv4-enabled</span><span class=o>=</span><span class=s>true</span>
</span></span><span class=line><span class=cl><span class=na>spark.sql.catalog.iceberg_managed.rest.signing-name</span><span class=o>=</span><span class=s>glue</span></span></span></code></pre></div></div><p>As with Trino, LakeFormation permissions must be granted to the EMR Spark IAM role. The failure mode is identical: no error, just empty results. If <code>SHOW TABLES</code> returns nothing in Spark, it&rsquo;s almost certainly a LakeFormation permissions issue.</p><hr><h2 class="relative group">Kafka Connect Integration<div id=kafka-connect-integration class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#kafka-connect-integration aria-label=Anchor>#</a></span></h2><p>This was the most critical integration to validate. Our primary CDC sink pipeline runs through Kafka Connect.</p><p>We confirmed the Kafka Connect Iceberg sink connector can stream data to S3 Table Buckets through the Glue REST endpoint.</p><p>For CDC topics, Debezium source connectors include schema information in their messages, so automatic table creation and schema evolution work correctly. We verified that when columns are added to the source table, they&rsquo;re automatically added to the sink-side Iceberg table as well.</p><p>However, for schema-less data like web logs, timestamp type inference isn&rsquo;t possible, so tables must be pre-created. If a timestamp field arrives as a plain string, the Iceberg connector creates it as a <code>string</code> type. Changing it to <code>timestamp</code> later requires recreating the table. This isn&rsquo;t an S3 Table Bucket-specific issue — it&rsquo;s an Iceberg sink connector limitation — but since CREATE TABLE doesn&rsquo;t work from Trino on table buckets, table recreation becomes more cumbersome.</p><hr><h2 class="relative group">Auto-Compaction Review<div id=auto-compaction-review class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#auto-compaction-review aria-label=Anchor>#</a></span></h2><h3 class="relative group">Behavior<div id=behavior class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#behavior aria-label=Anchor>#</a></span></h3><p>All tables created in S3 Table Buckets have fully managed compaction enabled by default. The default target file size is 512MB, adjustable between 64MB and 512MB.</p><p>The trigger conditions for auto-compaction were what we most wanted to understand from the PoC. The bottom line: trigger conditions are not documented. Job execution history can be checked via AWS CLI, but the actual trigger logic — &ldquo;under what conditions does compaction start?&rdquo; — is not publicly available. Specifics require opening a support case.</p><p>From our observations, trigger conditions appeared considerably more conservative than our hourly manual compaction batches. Manual compaction runs as soon as files exceed a threshold count; auto-compaction waited until files accumulated significantly more. The frequency itself was lower.</p><p>This is a trade-off depending on perspective. Conservative triggers reduce unnecessary compaction costs, but the small files that accumulate in the meantime can impact query performance. For CDC tables with continuously accumulating small files, more aggressive compaction might be preferable.</p><h3 class="relative group">Cost<div id=cost class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#cost aria-label=Anchor>#</a></span></h3><p>Beyond storage and read/write costs, auto-compaction incurs two types of charges:</p><ul><li>$0.004 per 1,000 objects processed</li><li>$0.05 per GB processed</li></ul><p>A concrete example: compacting 30,000 files at 5MB each (~146GB):</p><ul><li>Object processing: 30,000 / 1,000 × $0.004 = $0.12</li><li>Data processing: 146 × $0.05 = $7.30</li><li>Total: approximately $7.44</li></ul><p>For manual compaction using EMR Spark jobs or Trino queries, processing the same volume can cost more in EC2 instance hours alone. Factor in the operational overhead — batch job management, failure monitoring, retry logic — and auto-compaction&rsquo;s cost is quite acceptable.</p><h3 class="relative group">Not Needed for Append-Only Tables<div id=not-needed-for-append-only-tables class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#not-needed-for-append-only-tables aria-label=Anchor>#</a></span></h3><p>One conclusion became clear through the PoC: not every table needs S3 Table Buckets.</p><p>Append-only log tables receive data sequentially by time partition. New files only land in recent partitions; historical partitions are never touched. For these tables, existing manual compaction works perfectly. Hourly batches targeting only recent partitions have clear scope and predictable cost.</p><p>Given auto-compaction&rsquo;s conservative triggers, manual compaction is actually more cost-effective and performant for append-only tables.</p><p>Where S3 Table Buckets truly add value is CDC tables — workloads where updates and deletes happen across unpredictable partitions, making it impossible to define a fixed compaction scope. For these tables, the convenience of automatic compaction justifies the additional cost.</p><hr><h2 class="relative group">CDC Sink Table PoC<div id=cdc-sink-table-poc class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#cdc-sink-table-poc aria-label=Anchor>#</a></span></h2><p>Following the append-only log table PoC, we ran an additional PoC on a CDC table with continuous updates. Two questions needed answers.</p><p>First, does auto-compaction work without conflicting with CDC sink commits? If Kafka Connect is committing data while auto-compaction runs simultaneously, conflicts could arise. Iceberg&rsquo;s optimistic concurrency control handles this in theory, but we needed to verify it in practice.</p><p>Second, does maintainability actually improve compared to manual compaction? Even if costs are similar, eliminating the need for operators to manage compaction batches is valuable in itself.</p><p>The production rollout plan: when new CDC table sink requests come in, run dual pipelines to both the existing S3 bucket and the S3 Table Bucket. Sink the same Kafka topic to both destinations simultaneously, validating data consistency and auto-compaction behavior. Once stability is confirmed over a sufficient period, remove the old S3 bucket pipeline.</p><p>Running dual pipelines doubles the cost — but after our experience with Glue/LakeFormation&rsquo;s silent compaction failures, we consider this verification cost an insurance premium.</p><hr><h2 class="relative group">Takeaways<div id=takeaways class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#takeaways aria-label=Anchor>#</a></span></h2><p><strong>Managed automation doesn&rsquo;t fit every workload.</strong> Append-only tables are actually better served by existing manual compaction. Auto-compaction&rsquo;s conservative triggers and additional costs make manual compaction more rational for workloads with clear, predictable scope. Auto-compaction adds value specifically for CDC tables with unpredictable partition-level updates and deletes.</p><p><strong>Catalog separation is unavoidable.</strong> S3 Table Bucket REST catalogs and existing Glue catalogs can&rsquo;t be unified into a single Trino catalog. LakeFormation permission hierarchies are separated at the catalog level. Users need to know the separate catalog name, and cross-catalog queries are required for joins between the two.</p><p><strong>Missing LakeFormation permissions show as empty results, not errors.</strong> This was the single biggest time sink during the PoC. Instead of throwing &ldquo;permission denied,&rdquo; it shows &ldquo;no tables found.&rdquo; When any new IAM role needs access to S3 Table Buckets, checking LakeFormation permissions must be the first item on the checklist.</p><p><strong>Don&rsquo;t forget past managed compaction failures.</strong> Glue/LakeFormation&rsquo;s managed compaction failed silently. There&rsquo;s no guarantee S3 Table Buckets won&rsquo;t do the same. Thorough PoC and dual-pipeline validation are necessary for that reason. Trust comes from observed stability, not from service marketing pages.</p><p><strong>References:</strong></p><ul><li><a href=https://aws.amazon.com/s3/features/tables/ target=_blank rel=noreferrer>Amazon S3 Tables</a></li><li><a href=https://aws.amazon.com/blogs/aws/new-amazon-s3-tables-storage-optimized-for-analytics-workloads/ target=_blank rel=noreferrer>New Amazon S3 Tables: Storage optimized for analytics workloads</a></li><li><a href=https://aws.amazon.com/blogs/storage/how-amazon-s3-tables-use-compaction-to-improve-query-performance-by-up-to-3-times/ target=_blank rel=noreferrer>How Amazon S3 Tables use compaction to improve query performance by up to 3x</a></li><li><a href=https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-tables.html target=_blank rel=noreferrer>Working with Amazon S3 Tables</a></li><li><a href=https://github.com/trinodb/trino/pull/24815 target=_blank rel=noreferrer>Trino: Add read support for S3 Tables in Iceberg (v471)</a></li><li><a href=https://github.com/trinodb/trino/issues/25481 target=_blank rel=noreferrer>Trino: Fault tolerant mode fails with S3 Table Buckets</a></li><li><a href=https://trino.io/docs/current/connector/iceberg.html target=_blank rel=noreferrer>Iceberg Connector - Trino Documentation</a></li><li><a href=https://github.com/awslabs/s3-tables-catalog target=_blank rel=noreferrer>AWS S3 Tables Catalog</a></li></ul></div><section class="flex flex-row flex-wrap justify-center pt-4 text-xl"><a target=_blank class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://nanta-data.dev/en/posts/s3-table-buckets-poc/&amp;title=S3%20Table%20Buckets%20PoC:%20Evaluating%20Managed%20Iceberg%20for%20CDC%20Workloads" title="Share on LinkedIn" aria-label="Share on LinkedIn"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg>
</span></a><a target=_blank class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://reddit.com/submit/?url=https://nanta-data.dev/en/posts/s3-table-buckets-poc/&amp;resubmit=true&amp;title=S3%20Table%20Buckets%20PoC:%20Evaluating%20Managed%20Iceberg%20for%20CDC%20Workloads" title="Submit to Reddit" aria-label="Submit to Reddit"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M201.5 305.5c-13.8.0-24.9-11.1-24.9-24.6.0-13.8 11.1-24.9 24.9-24.9 13.6.0 24.6 11.1 24.6 24.9.0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4.0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8.0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7.0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9.0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5.0 52.6 59.2 95.2 132 95.2 73.1.0 132.3-42.6 132.3-95.2.0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6.0-2.2-2.2-6.1-2.2-8.3.0-2.5 2.5-2.5 6.4.0 8.6 22.8 22.8 87.3 22.8 110.2.0 2.5-2.2 2.5-6.1.0-8.6-2.2-2.2-6.1-2.2-8.3.0zm7.7-75c-13.6.0-24.6 11.1-24.6 24.9.0 13.6 11.1 24.6 24.6 24.6 13.8.0 24.9-11.1 24.9-24.6.0-13.8-11-24.9-24.9-24.9z"/></svg>
</span></a><a target=_blank class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="mailto:?body=https://nanta-data.dev/en/posts/s3-table-buckets-poc/&amp;subject=S3%20Table%20Buckets%20PoC:%20Evaluating%20Managed%20Iceberg%20for%20CDC%20Workloads" title="Send via email" aria-label="Send via email"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1-27.64 140.9 68.65 266.2 199.1 285.1 19.01 2.888 36.17-12.26 36.17-31.49l1e-4-.6631c0-15.74-11.44-28.88-26.84-31.24-84.35-12.98-149.2-86.13-149.2-174.2.0-102.9 88.61-185.5 193.4-175.4 91.54 8.869 158.6 91.25 158.6 183.2v16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98.0036c-7.299.0-13.2 4.992-15.12 11.68-24.85-12.15-54.24-16.38-86.06-5.106-38.75 13.73-68.12 48.91-73.72 89.64-9.483 69.01 43.81 128 110.9 128 26.44.0 50.43-9.544 69.59-24.88 24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3c0-149.2-133.9-265.632-287.3-235.57zM239.1 304.3c-26.47.0-48-21.56-48-48.05s21.53-48.05 48-48.05 48 21.56 48 48.05-20.6 48.05-48 48.05z"/></svg></span></a></section></div></section><footer class="pt-8 max-w-prose print:hidden"><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span class="flex flex-col"><a class="flex text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" href=/en/posts/superset-user-reported-issues/><span class=leading-6><span class="inline-block rtl:rotate-180">&larr;</span>&ensp;Superset: Resolving Six User-Reported Issues
</span></a><span class="ms-6 mt-1 text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2026-02-27T00:00:00+00:00>27 February 2026</time>
</span></span><span class="flex flex-col items-end"><a class="flex text-right text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" href=/en/posts/kafka-rack-awareness-spark/><span class=leading-6>Kafka Rack Awareness and Spark: Not Supported Yet&ensp;<span class="inline-block rtl:rotate-180">&rarr;</span>
</span></a><span class="me-6 mt-1 text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2026-02-27T00:00:00+00:00>27 February 2026</time></span></span></div></div></footer></article><div id=scroll-to-top class="fixed bottom-6 end-6 z-50 transform translate-y-4 opacity-0 duration-200"><a href=#the-top class="pointer-events-auto flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div></main><footer id=site-footer class="py-10 print:hidden"><div class="flex items-center justify-between text-sm text-neutral-500 dark:text-neutral-400"><nav><ul class="flex list-none flex-row"><li class="me-4 last:me-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href=/en/privacy-policy/ title="Privacy Policy">Privacy Policy</a></li></ul></nav><p>&copy;
2026
nanta</p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script></footer><div id=search-wrapper class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500" data-url=https://nanta-data.dev/en/><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=Search tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Close (Esc)">
<span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></body></html>