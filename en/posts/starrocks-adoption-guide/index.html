<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=theme-color><title>StarRocks Adoption Story: Revolutionizing Data Pipelines with Real-time OLAP &#183; nanta - Data Engineering</title><meta name=title content="StarRocks Adoption Story: Revolutionizing Data Pipelines with Real-time OLAP &#183; nanta - Data Engineering"><meta name=description content="How we reduced pipeline latency from 5 minutes to sub-second by adopting StarRocks. Covers table model selection, data ingestion, performance tuning, and operational lessons from production."><meta name=keywords content="starrocks,olap,real-time,kafka,performance-tuning,data-pipeline,"><link rel=canonical href=https://nanta-data.dev/en/posts/starrocks-adoption-guide/><meta name=author content="nanta"><link href=https://github.com/NhoSW rel=me><meta property="og:url" content="https://nanta-data.dev/en/posts/starrocks-adoption-guide/"><meta property="og:site_name" content="nanta - Data Engineering"><meta property="og:title" content="StarRocks Adoption Story: Revolutionizing Data Pipelines with Real-time OLAP"><meta property="og:description" content="How we reduced pipeline latency from 5 minutes to sub-second by adopting StarRocks. Covers table model selection, data ingestion, performance tuning, and operational lessons from production."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-02-23T00:00:00+00:00"><meta property="article:modified_time" content="2026-02-23T00:00:00+00:00"><meta property="article:tag" content="Starrocks"><meta property="article:tag" content="Olap"><meta property="article:tag" content="Real-Time"><meta property="article:tag" content="Kafka"><meta property="article:tag" content="Performance-Tuning"><meta property="article:tag" content="Data-Pipeline"><meta name=twitter:card content="summary"><meta name=twitter:title content="StarRocks Adoption Story: Revolutionizing Data Pipelines with Real-time OLAP"><meta name=twitter:description content="How we reduced pipeline latency from 5 minutes to sub-second by adopting StarRocks. Covers table model selection, data ingestion, performance tuning, and operational lessons from production."><link type=text/css rel=stylesheet href=/css/main.bundle.min.c14e86e0d9a09802d254d2a15c05847ae65bfc2e98c2166fabc67369d2d7f2eae6c1da03bbba58cfd41a4af802147c75ce9fdc11dd724ac627ab2903942cbb79.css integrity="sha512-wU6G4NmgmALSVNKhXAWEeuZb/C6YwhZvq8ZzadLX8urmwdoDu7pYz9QaSvgCFHx1zp/cEd1ySsYnqykDlCy7eQ=="><script type=text/javascript src=/js/appearance.min.6f41174b3a05b680820fe08cadbfa5fb7a7ca347b76a0955cdc68b9d8aca1ce24f0547e138cea33bcc7904d551a90afcb1cc7f2d9fe8557075d501419046c08c.js integrity="sha512-b0EXSzoFtoCCD+CMrb+l+3p8o0e3aglVzcaLnYrKHOJPBUfhOM6jO8x5BNVRqQr8scx/LZ/oVXB11QFBkEbAjA=="></script><script src=/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7+kfJ6kKCJxQGC+8wm+Bz9JucDjDTGNew=="></script><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.bdda7dece6cbaf08deef7d254f7f842f3261c2524d247905127c9a20decc03f1011a2950048464c79272c1ce0705a49a41147f39f2b95163bb71d404b33263ef.js integrity="sha512-vdp97ObLrwje730lT3+ELzJhwlJNJHkFEnyaIN7MA/EBGilQBIRkx5Jywc4HBaSaQRR/OfK5UWO7cdQEszJj7w==" data-copy=Copy data-copied=Copied></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Posts","name":"StarRocks Adoption Story: Revolutionizing Data Pipelines with Real-time OLAP","headline":"StarRocks Adoption Story: Revolutionizing Data Pipelines with Real-time OLAP","inLanguage":"en","url":"https://nanta-data.dev/en/posts/starrocks-adoption-guide/","author":{"@type":"Person","name":"nanta"},"copyrightYear":"2026","dateCreated":"2026-02-23T00:00:00\u002b00:00","datePublished":"2026-02-23T00:00:00\u002b00:00","dateModified":"2026-02-23T00:00:00\u002b00:00","keywords":["starrocks","olap","real-time","kafka","performance-tuning","data-pipeline"],"mainEntityOfPage":"true","wordCount":"1337"}]</script><link rel=preconnect href=https://cdn.jsdelivr.net crossorigin><link href=https://cdn.jsdelivr.net/npm/geist@1.3.1/dist/fonts/geist-sans/style.min.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/geist@1.3.1/dist/fonts/geist-mono/style.min.css rel=stylesheet></head><body class="flex flex-col h-screen m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32 text-lg bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral bf-scrollbar"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 pe-2 dark:text-primary-400">&darr;</span>
Skip to main content</a></div><div class=min-h-[148px]></div><div class="fixed inset-x-0 z-100"><div id=menu-blur class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl shadow-2xl bg-neutral/25 dark:bg-neutral-800/25"></div><div class="relative m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32"><div class="main-menu flex items-center w-full gap-2 p-1 pl-0"><a href=/en/ class="text-base font-medium truncate min-w-0 shrink">nanta - Data Engineering</a><div class="flex items-center ms-auto"><div class="hidden md:flex"><nav class="flex items-center gap-x-5 h-12"><a href=/en/posts/ class="flex items-center bf-icon-color-hover" aria-label=Posts title=Posts><span class="text-base font-medium break-normal">Posts
</span></a><a href=/en/categories/ class="flex items-center bf-icon-color-hover" aria-label=Categories title=Categories><span class="text-base font-medium break-normal">Categories
</span></a><a href=/en/tags/ class="flex items-center bf-icon-color-hover" aria-label=Tags title=Tags><span class="text-base font-medium break-normal">Tags
</span></a><a href=/en/about/ class="flex items-center bf-icon-color-hover" aria-label=About title=About><span class="text-base font-medium break-normal">About</span></a><div class="translation nested-menu"><button class="cursor-pointer flex items-center">
<span class=me-1><span class="relative block icon"><svg viewBox="0 0 640 512"><path fill="currentColor" d="M0 128C0 92.7 28.7 64 64 64H256h48 16H576c35.3.0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H320 304 256 64c-35.3.0-64-28.7-64-64V128zm320 0V384H576V128H320zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1.1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1h73.6l8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2 179 276H141l19-42.8zM448 164c11 0 20 9 20 20v4h44 16c11 0 20 9 20 20s-9 20-20 20h-2l-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4.9.6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9L467 333.8c-4.5-2.7-8.8-5.5-13.1-8.5-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8L410 286.1c-7.8-7.8-7.8-20.5.0-28.3s20.5-7.8 28.3.0l14.6 14.6.5.5c12.4-13.1 22.5-28.3 29.8-45H448 376c-11 0-20-9-20-20s9-20 20-20h52v-4c0-11 9-20 20-20z"/></svg></span>
</span><span class="text-sm font-medium bf-icon-color-hover" title="StarRocks Adoption Story: Revolutionizing Data Pipelines with Real-time OLAP">EN</span></button><ul class=menuhide><li class="rounded-xl backdrop-blur shadow-2xl p-2 flex flex-col gap-1"><a href=/posts/starrocks-adoption-guide/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="StarRocks 도입기: 실시간 OLAP으로 데이터 파이프라인을 뜯어고친 이야기">한국어
</span></a><a href=/en/posts/starrocks-adoption-guide/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="StarRocks Adoption Story: Revolutionizing Data Pipelines with Real-time OLAP">English</span></a></li></ul></div><button id=search-button aria-label=Search class="text-base bf-icon-color-hover" title="Search (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button><div class="flex items-center"><button id=appearance-switcher aria-label="Dark mode switcher" type=button class="text-base bf-icon-color-hover"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></nav></div><div class="flex md:hidden"><div class="flex items-center h-14 gap-4"><button id=search-button-mobile aria-label=Search class="flex items-center justify-center bf-icon-color-hover" title="Search (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></button>
<button id=appearance-switcher-mobile type=button aria-label="Dark mode switcher" class="flex items-center justify-center text-neutral-900 hover:text-primary-600 dark:text-neutral-200 dark:hover:text-primary-400"><div class=dark:hidden><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="hidden dark:block"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button>
<input type=checkbox id=mobile-menu-toggle autocomplete=off class="hidden peer">
<label for=mobile-menu-toggle class="flex items-center justify-center cursor-pointer bf-icon-color-hover"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></label><div role=dialog aria-modal=true style=scrollbar-gutter:stable class="fixed inset-0 z-50 invisible overflow-y-auto px-6 py-20 opacity-0 transition-[opacity,visibility] duration-300 peer-checked:visible peer-checked:opacity-100 bg-neutral-50/97 dark:bg-neutral-900/99
bf-scrollbar"><label for=mobile-menu-toggle class="fixed end-8 top-5 flex items-center justify-center z-50 h-12 w-12 cursor-pointer select-none rounded-full bf-icon-color-hover border bf-border-color bf-border-color-hover bg-neutral-50 dark:bg-neutral-900"><span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></label><nav class="mx-auto max-w-md space-y-6"><div class=px-2><a href=/en/posts/ aria-label=Posts class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title=Posts class="text-2xl font-bold tracking-tight">Posts</span></a></div><div class=px-2><a href=/en/categories/ aria-label=Categories class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title=Categories class="text-2xl font-bold tracking-tight">Categories</span></a></div><div class=px-2><a href=/en/tags/ aria-label=Tags class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title=Tags class="text-2xl font-bold tracking-tight">Tags</span></a></div><div class=px-2><a href=/en/about/ aria-label=About class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title=About class="text-2xl font-bold tracking-tight">About</span></a></div><div class="flex flex-wrap items-center [&_span]:text-2xl [&_.translation_button_.icon]:text-4xl! [&_.translation_button_span]:text-base! [&_.translation_.menuhide_span]:text-sm! gap-x-6 ps-2 mt-8 pt-8 border-t bf-border-color"><div class="translation nested-menu"><button class="cursor-pointer flex items-center">
<span class=me-1><span class="relative block icon"><svg viewBox="0 0 640 512"><path fill="currentColor" d="M0 128C0 92.7 28.7 64 64 64H256h48 16H576c35.3.0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H320 304 256 64c-35.3.0-64-28.7-64-64V128zm320 0V384H576V128H320zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1.1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1h73.6l8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2 179 276H141l19-42.8zM448 164c11 0 20 9 20 20v4h44 16c11 0 20 9 20 20s-9 20-20 20h-2l-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4.9.6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9L467 333.8c-4.5-2.7-8.8-5.5-13.1-8.5-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8L410 286.1c-7.8-7.8-7.8-20.5.0-28.3s20.5-7.8 28.3.0l14.6 14.6.5.5c12.4-13.1 22.5-28.3 29.8-45H448 376c-11 0-20-9-20-20s9-20 20-20h52v-4c0-11 9-20 20-20z"/></svg></span>
</span><span class="text-sm font-medium bf-icon-color-hover" title="StarRocks Adoption Story: Revolutionizing Data Pipelines with Real-time OLAP">EN</span></button><ul class=menuhide><li class="rounded-xl backdrop-blur shadow-2xl p-2 flex flex-col gap-1"><a href=/posts/starrocks-adoption-guide/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="StarRocks 도입기: 실시간 OLAP으로 데이터 파이프라인을 뜯어고친 이야기">한국어
</span></a><a href=/en/posts/starrocks-adoption-guide/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="StarRocks Adoption Story: Revolutionizing Data Pipelines with Real-time OLAP">English</span></a></li></ul></div></div></nav></div></div></div></div></div></div></div><script type=text/javascript src=/js/background-blur.min.605b3b942818f0ab5a717ae446135ec46b8ee5a2ad12ae56fb90dc2a76ce30c388f9fec8bcc18db15bd47e3fa8a09d779fa12aa9c184cf614a315bc72c6c163d.js integrity="sha512-YFs7lCgY8KtacXrkRhNexGuO5aKtEq5W+5DcKnbOMMOI+f7IvMGNsVvUfj+ooJ13n6EqqcGEz2FKMVvHLGwWPQ==" data-blur-id=menu-blur></script><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header id=single_header class="mt-5 max-w-prose"><ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden"><li class=hidden><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/en/>nanta - Data Engineering</a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/en/posts/>Posts</a><span class="px-1 text-primary-500">/</span></li><li class=hidden><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/en/posts/starrocks-adoption-guide/>StarRocks Adoption Story: Revolutionizing Data Pipelines with Real-time OLAP</a><span class="px-1 text-primary-500">/</span></li></ol><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">StarRocks Adoption Story: Revolutionizing Data Pipelines with Real-time OLAP</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime=2026-02-23T00:00:00+00:00>23 February 2026</time><span class="px-2 text-primary-500">&#183;</span><span title="Reading time">7 mins</span></div></div><div class="flex author"><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">Author</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">nanta</div><div class="text-sm text-neutral-700 dark:text-neutral-400">Data Engineering blog covering Apache Kafka, Airflow, Trino, StarRocks, and modern data infrastructure. Sharing practical lessons from production.</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://github.com/NhoSW target=_blank aria-label=Github title=Github rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></span></a></div></div></div></div><div class=mb-5></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first lg:ms-auto px-0 lg:order-last lg:ps-8 lg:max-w-2xs"><div class="toc ps-5 print:hidden lg:sticky lg:top-[140px]"><details open id=TOCView class="toc-right mt-0 overflow-y-auto overscroll-contain bf-scrollbar rounded-lg -ms-5 ps-5 pe-2 hidden lg:block"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="min-w-[220px] py-2 border-dotted border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#background>Background</a></li><li><a href=#results>Results</a></li><li><a href=#table-model-selection-guide>Table Model Selection Guide</a><ul><li><a href=#decision-flow>Decision Flow</a></li><li><a href=#model-comparison>Model Comparison</a></li><li><a href=#duplicate-key-storing-raw-data>Duplicate Key: Storing Raw Data</a></li><li><a href=#aggregate-key-real-time-statistics->Aggregate Key: Real-time Statistics ★</a></li><li><a href=#primary-key-frequent-updates>Primary Key: Frequent UPDATEs</a></li></ul></li><li><a href=#data-ingestion>Data Ingestion</a><ul><li><a href=#routine-load-real-time-kafka-integration>Routine Load: Real-time Kafka Integration</a></li><li><a href=#stream-load-bulk-data-loading>Stream Load: Bulk Data Loading</a></li></ul></li><li><a href=#performance-tuning-tips>Performance Tuning Tips</a><ul><li><a href=#thread-pool-configuration>Thread Pool Configuration</a></li><li><a href=#bucket-count-guidelines>Bucket Count Guidelines</a></li><li><a href=#partitioning-strategy>Partitioning Strategy</a></li><li><a href=#ttl-configuration>TTL Configuration</a></li></ul></li><li><a href=#operational-know-how>Operational Know-how</a><ul><li><a href=#materialized-view-management>Materialized View Management</a></li><li><a href=#routine-load-monitoring>Routine Load Monitoring</a></li><li><a href=#scale-in-precautions>Scale-in Precautions</a></li></ul></li><li><a href=#things-to-know-before-adopting>Things to Know Before Adopting</a><ul><li><a href=#known-limitations>Known Limitations</a></li><li><a href=#adoption-checklist>Adoption Checklist</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></details><details class="toc-inside mt-0 overflow-hidden rounded-lg -ms-5 ps-5 lg:hidden"><summary class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="py-2 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#background>Background</a></li><li><a href=#results>Results</a></li><li><a href=#table-model-selection-guide>Table Model Selection Guide</a><ul><li><a href=#decision-flow>Decision Flow</a></li><li><a href=#model-comparison>Model Comparison</a></li><li><a href=#duplicate-key-storing-raw-data>Duplicate Key: Storing Raw Data</a></li><li><a href=#aggregate-key-real-time-statistics->Aggregate Key: Real-time Statistics ★</a></li><li><a href=#primary-key-frequent-updates>Primary Key: Frequent UPDATEs</a></li></ul></li><li><a href=#data-ingestion>Data Ingestion</a><ul><li><a href=#routine-load-real-time-kafka-integration>Routine Load: Real-time Kafka Integration</a></li><li><a href=#stream-load-bulk-data-loading>Stream Load: Bulk Data Loading</a></li></ul></li><li><a href=#performance-tuning-tips>Performance Tuning Tips</a><ul><li><a href=#thread-pool-configuration>Thread Pool Configuration</a></li><li><a href=#bucket-count-guidelines>Bucket Count Guidelines</a></li><li><a href=#partitioning-strategy>Partitioning Strategy</a></li><li><a href=#ttl-configuration>TTL Configuration</a></li></ul></li><li><a href=#operational-know-how>Operational Know-how</a><ul><li><a href=#materialized-view-management>Materialized View Management</a></li><li><a href=#routine-load-monitoring>Routine Load Monitoring</a></li><li><a href=#scale-in-precautions>Scale-in Precautions</a></li></ul></li><li><a href=#things-to-know-before-adopting>Things to Know Before Adopting</a><ul><li><a href=#known-limitations>Known Limitations</a></li><li><a href=#adoption-checklist>Adoption Checklist</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-fit"><div class="article-content max-w-prose mb-20"><h2 class="relative group">Background<div id=background class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#background aria-label=Anchor>#</a></span></h2><p>If you run data pipelines long enough, you inevitably face one question: <strong>How do you build real-time dashboards?</strong></p><p>Our team was no different. Our existing pipeline looked like this:</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Service → Kafka → Iceberg → S3 → Trino → Airflow(5min) → Dashboard</span></span></code></pre></div></div><p>On the surface it worked fine, but the pain points in practice were clear:</p><ul><li><strong>At least 5 minutes of latency</strong>: The Airflow schedule interval was the bottleneck</li><li><strong>Pipeline complexity</strong>: Managing 5+ components chained as Kafka → Flink → Redis → API → Dashboard</li><li><strong>Redundant I/O</strong>: Trino full-scanned S3 on every query</li><li><strong>High development cost</strong>: Each new real-time dashboard took roughly 2 weeks to build</li></ul><p>After adopting StarRocks, the architecture simplified to this:</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Service → Kafka → StarRocks → Dashboard (sub-second latency)</span></span></code></pre></div></div><p>Eliminating the intermediate components dramatically simplified the pipeline, and ingesting data directly from Kafka into StarRocks gave us the real-time capability we needed.</p><h2 class="relative group">Results<div id=results class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#results aria-label=Anchor>#</a></span></h2><p>After approximately 3 months of PoC and 6 months of phased rollout, we achieved the following improvements:</p><table><thead><tr><th>Metric</th><th>Before</th><th>After</th><th>Improvement</th></tr></thead><tbody><tr><td>Dashboard latency</td><td>5 min</td><td>&lt; 1 sec</td><td>~300x</td></tr><tr><td>Dashboard dev time</td><td>~2 weeks</td><td>~1 week</td><td>50% reduction</td></tr><tr><td>Pipeline components</td><td>5+</td><td>2</td><td>60% reduction</td></tr><tr><td>Query response time</td><td>30~50 sec</td><td>5~10 sec</td><td>5~10x</td></tr><tr><td>Hardware cost</td><td>128 GB x 18 nodes</td><td>64 GB x 3 nodes</td><td>~75% savings</td></tr></tbody></table><blockquote><p>Trino is fast in terms of raw query time, but when factoring in Airflow schedule delays and <strong>end-to-end latency</strong>, along with hardware cost efficiency, StarRocks proved to be a better fit for real-time workloads.</p></blockquote><h2 class="relative group">Table Model Selection Guide<div id=table-model-selection-guide class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#table-model-selection-guide aria-label=Anchor>#</a></span></h2><p>Choosing the right table model is the most important decision when first adopting StarRocks. A wrong choice means you will have to recreate the table later.</p><h3 class="relative group">Decision Flow<div id=decision-flow class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#decision-flow aria-label=Anchor>#</a></span></h3><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>┌─────────────────────────────┐
</span></span><span class=line><span class=cl>│  What data are you storing?  │
</span></span><span class=line><span class=cl>└──────────────┬──────────────┘
</span></span><span class=line><span class=cl>               │
</span></span><span class=line><span class=cl>       ┌───────▼────────┐
</span></span><span class=line><span class=cl>       │  Need UPDATE?   │
</span></span><span class=line><span class=cl>       └───────┬────────┘
</span></span><span class=line><span class=cl>               │
</span></span><span class=line><span class=cl>      ┌────────┴────────┐
</span></span><span class=line><span class=cl>      │                 │
</span></span><span class=line><span class=cl>     [No]              [Yes]
</span></span><span class=line><span class=cl>      │                 │
</span></span><span class=line><span class=cl>┌─────▼─────┐    ┌─────▼──────┐
</span></span><span class=line><span class=cl>│  Need      │    │ Primary Key │
</span></span><span class=line><span class=cl>│aggregation?│    │ (frequent   │
</span></span><span class=line><span class=cl>└─────┬─────┘    │  UPDATE)    │
</span></span><span class=line><span class=cl>      │          └────────────┘
</span></span><span class=line><span class=cl>  [No]    [Yes]
</span></span><span class=line><span class=cl>      │      │
</span></span><span class=line><span class=cl>┌─────▼───┐ ┌▼──────────┐
</span></span><span class=line><span class=cl>│Duplicate│ │Aggregate   │
</span></span><span class=line><span class=cl>│(raw data)│ │(auto-agg) ★│
</span></span><span class=line><span class=cl>└─────────┘ └────────────┘</span></span></code></pre></div></div><h3 class="relative group">Model Comparison<div id=model-comparison class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#model-comparison aria-label=Anchor>#</a></span></h3><table><thead><tr><th>Model</th><th>Duplicates Allowed</th><th>UPDATE</th><th>Auto-aggregation</th><th>Best For</th></tr></thead><tbody><tr><td>Duplicate Key</td><td>O</td><td>X</td><td>X</td><td>Logs, raw events</td></tr><tr><td>Aggregate Key</td><td>X</td><td>Auto</td><td>O</td><td>Real-time statistics ★</td></tr><tr><td>Primary Key</td><td>X</td><td>O (fast)</td><td>X</td><td>Frequent UPDATEs</td></tr></tbody></table><h3 class="relative group">Duplicate Key: Storing Raw Data<div id=duplicate-key-storing-raw-data class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#duplicate-key-storing-raw-data aria-label=Anchor>#</a></span></h3><p>Use this when you need to preserve original data as-is, such as click logs, API events, or sensor data.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>order_events</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>event_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>event_time</span><span class=w> </span><span class=n>DATETIME</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>user_id</span><span class=w> </span><span class=nb>BIGINT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>event_type</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>amount</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>DUPLICATE</span><span class=w> </span><span class=k>KEY</span><span class=p>(</span><span class=n>event_id</span><span class=p>,</span><span class=w> </span><span class=n>event_time</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>PARTITION</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>date_trunc</span><span class=p>(</span><span class=s1>&#39;day&#39;</span><span class=p>,</span><span class=w> </span><span class=n>event_time</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>DISTRIBUTED</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>HASH</span><span class=p>(</span><span class=n>event_id</span><span class=p>)</span><span class=w> </span><span class=n>BUCKETS</span><span class=w> </span><span class=mi>10</span><span class=p>;</span></span></span></code></pre></div></div><h3 class="relative group">Aggregate Key: Real-time Statistics ★<div id=aggregate-key-real-time-statistics- class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#aggregate-key-real-time-statistics- aria-label=Anchor>#</a></span></h3><p>Data is <strong>automatically aggregated at ingestion time</strong>. This model was the key reason for adopting StarRocks.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>order_stats</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>stat_time</span><span class=w> </span><span class=n>DATETIME</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>COMMENT</span><span class=w> </span><span class=s1>&#39;5-minute intervals&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>region</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>delivery_type</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- Aggregate columns: aggregate functions applied automatically at ingestion
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_count</span><span class=w> </span><span class=nb>BIGINT</span><span class=w> </span><span class=k>SUM</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=s2>&#34;0&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>total_amount</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>15</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>SUM</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=s2>&#34;0&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>user_bitmap</span><span class=w> </span><span class=n>BITMAP</span><span class=w> </span><span class=n>BITMAP_UNION</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>max_amount</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>MAX</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>AGGREGATE</span><span class=w> </span><span class=k>KEY</span><span class=p>(</span><span class=n>stat_time</span><span class=p>,</span><span class=w> </span><span class=n>region</span><span class=p>,</span><span class=w> </span><span class=n>delivery_type</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>PARTITION</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>date_trunc</span><span class=p>(</span><span class=s1>&#39;day&#39;</span><span class=p>,</span><span class=w> </span><span class=n>stat_time</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>DISTRIBUTED</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>HASH</span><span class=p>(</span><span class=n>stat_time</span><span class=p>)</span><span class=w> </span><span class=n>BUCKETS</span><span class=w> </span><span class=mi>10</span><span class=p>;</span></span></span></code></pre></div></div><p>Available aggregate functions:</p><table><thead><tr><th>Function</th><th>Purpose</th><th>Example</th></tr></thead><tbody><tr><td><code>SUM</code></td><td>Summation</td><td>Order count, total revenue</td></tr><tr><td><code>MAX</code> / <code>MIN</code></td><td>Maximum / minimum value</td><td>Highest price, lowest price</td></tr><tr><td><code>REPLACE</code></td><td>Overwrite with latest value</td><td>Latest status</td></tr><tr><td><code>BITMAP_UNION</code></td><td>Exact unique count</td><td>Unique visitors</td></tr><tr><td><code>HLL_UNION</code></td><td>Approximate unique count</td><td>High-cardinality sets</td></tr></tbody></table><blockquote><p>Unlike HyperLogLog, <code>BITMAP_UNION</code> provides <strong>exact</strong> unique counts. For business KPI dashboards where accuracy matters, always use this approach.</p></blockquote><h3 class="relative group">Primary Key: Frequent UPDATEs<div id=primary-key-frequent-updates class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#primary-key-frequent-updates aria-label=Anchor>#</a></span></h3><p>Best suited for scenarios where the same key is frequently updated, such as order status tracking or inventory management.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>orders</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>status</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>amount</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>updated_at</span><span class=w> </span><span class=n>DATETIME</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>DISTRIBUTED</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>HASH</span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span><span class=w> </span><span class=n>BUCKETS</span><span class=w> </span><span class=mi>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>PROPERTIES</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s2>&#34;enable_persistent_index&#34;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span></span></span></code></pre></div></div><blockquote><p>Enabling <code>enable_persistent_index</code> significantly improves UPDATE performance.</p></blockquote><h2 class="relative group">Data Ingestion<div id=data-ingestion class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#data-ingestion aria-label=Anchor>#</a></span></h2><h3 class="relative group">Routine Load: Real-time Kafka Integration<div id=routine-load-real-time-kafka-integration class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#routine-load-real-time-kafka-integration aria-label=Anchor>#</a></span></h3><p>This approach continuously ingests data from a Kafka topic. It is the method used in most real-time pipelines.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>ROUTINE</span><span class=w> </span><span class=k>LOAD</span><span class=w> </span><span class=n>order_load</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>orders</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>COLUMNS</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>user_id</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>timestamp_ms</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>amount</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_date</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>FROM_UNIXTIME</span><span class=p>(</span><span class=n>timestamp_ms</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1000</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>PROPERTIES</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s2>&#34;format&#34;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;json&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s2>&#34;jsonpaths&#34;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;[\&#34;</span><span class=err>$</span><span class=p>.</span><span class=n>orderId</span><span class=err>\</span><span class=s2>&#34;,\&#34;</span><span class=err>$</span><span class=p>.</span><span class=n>userId</span><span class=err>\</span><span class=s2>&#34;,\&#34;</span><span class=err>$</span><span class=p>.</span><span class=k>timestamp</span><span class=err>\</span><span class=s2>&#34;,\&#34;</span><span class=err>$</span><span class=p>.</span><span class=n>amount</span><span class=err>\</span><span class=s2>&#34;]&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>KAFKA</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s2>&#34;kafka_broker_list&#34;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;kafka-broker:9092&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s2>&#34;kafka_topic&#34;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;orders&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span></span></span></code></pre></div></div><p>When combined with an Aggregate Key table, <strong>transformation and aggregation happen simultaneously at ingestion time</strong>.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>ROUTINE</span><span class=w> </span><span class=k>LOAD</span><span class=w> </span><span class=n>order_stats_load</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>order_stats</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>COLUMNS</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>timestamp_ms</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>region</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>amount</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>user_id</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- Round to 5-minute intervals
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>stat_time</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>FROM_UNIXTIME</span><span class=p>(</span><span class=n>FLOOR</span><span class=p>(</span><span class=n>timestamp_ms</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1000</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>300</span><span class=p>)</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>300</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>total_amount</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>amount</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>user_bitmap</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>BITMAP_HASH</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=n>amount</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>PROPERTIES</span><span class=w> </span><span class=p>(</span><span class=s2>&#34;format&#34;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;json&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>FROM</span><span class=w> </span><span class=n>KAFKA</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s2>&#34;kafka_broker_list&#34;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;kafka-broker:9092&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s2>&#34;kafka_topic&#34;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;orders&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span></span></span></code></pre></div></div><p>This single pattern replaced the aggregation logic that previously required Flink &ndash; using nothing but SQL.</p><h3 class="relative group">Stream Load: Bulk Data Loading<div id=stream-load-bulk-data-loading class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#stream-load-bulk-data-loading aria-label=Anchor>#</a></span></h3><p>Ideal for one-time bulk loads via files or APIs.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># CSV file loading</span>
</span></span><span class=line><span class=cl>curl --location-trusted <span class=se>\
</span></span></span><span class=line><span class=cl>  -u user:password <span class=se>\
</span></span></span><span class=line><span class=cl>  -H <span class=s2>&#34;label:load_</span><span class=k>$(</span>date +%Y%m%d%H%M%S<span class=k>)</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl>  -H <span class=s2>&#34;column_separator:,&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl>  -T data.csv <span class=se>\
</span></span></span><span class=line><span class=cl>  http://starrocks-fe:8030/api/mydb/mytable/_stream_load</span></span></code></pre></div></div><h2 class="relative group">Performance Tuning Tips<div id=performance-tuning-tips class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#performance-tuning-tips aria-label=Anchor>#</a></span></h2><h3 class="relative group">Thread Pool Configuration<div id=thread-pool-configuration class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#thread-pool-configuration aria-label=Anchor>#</a></span></h3><p>In high-load environments with 500+ RPS of concurrent connections, the default thread pool size is insufficient.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-properties data-lang=properties><span class=line><span class=cl><span class=c1># be.conf</span>
</span></span><span class=line><span class=cl><span class=na>pipeline_scan_thread_pool_thread_num</span> <span class=o>=</span> <span class=s>32   # default: 24</span>
</span></span><span class=line><span class=cl><span class=na>pipeline_exec_thread_pool_thread_num</span> <span class=o>=</span> <span class=s>32   # default: 24</span></span></span></code></pre></div></div><h3 class="relative group">Bucket Count Guidelines<div id=bucket-count-guidelines class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#bucket-count-guidelines aria-label=Anchor>#</a></span></h3><table><thead><tr><th>Data Size</th><th>Recommended Buckets</th></tr></thead><tbody><tr><td>&lt; 10 GB</td><td>10</td></tr><tr><td>10~50 GB</td><td>20</td></tr><tr><td>50~100 GB</td><td>30</td></tr><tr><td>> 100 GB</td><td>50+</td></tr></tbody></table><p>Formula: <code>buckets = max(1, data_size_GB / 10)</code></p><h3 class="relative group">Partitioning Strategy<div id=partitioning-strategy class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#partitioning-strategy aria-label=Anchor>#</a></span></h3><p>Applying functions to partition columns prevents partition pruning. This is a more common mistake than you might think.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- ✅ Correct: partition pruning works
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=n>event_time</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>NOW</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=nb>INTERVAL</span><span class=w> </span><span class=mi>3</span><span class=w> </span><span class=k>DAY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- ❌ Incorrect: partition pruning disabled
</span></span></span><span class=line><span class=cl><span class=k>WHERE</span><span class=w> </span><span class=nb>DATE</span><span class=p>(</span><span class=n>event_time</span><span class=p>)</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=k>CURRENT_DATE</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>3</span></span></span></code></pre></div></div><h3 class="relative group">TTL Configuration<div id=ttl-configuration class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#ttl-configuration aria-label=Anchor>#</a></span></h3><p>To automatically drop old partitions, configure TTL.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=n>PROPERTIES</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s2>&#34;partition_live_number&#34;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;3&#34;</span><span class=w>  </span><span class=c1>-- Keep only the 3 most recent partitions
</span></span></span><span class=line><span class=cl><span class=p>)</span></span></span></code></pre></div></div><h2 class="relative group">Operational Know-how<div id=operational-know-how class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#operational-know-how aria-label=Anchor>#</a></span></h2><h3 class="relative group">Materialized View Management<div id=materialized-view-management class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#materialized-view-management aria-label=Anchor>#</a></span></h3><p>ASYNC refresh can stop without warning. Periodically check the status and manually recover when issues arise.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- Check status
</span></span></span><span class=line><span class=cl><span class=k>SHOW</span><span class=w> </span><span class=n>MATERIALIZED</span><span class=w> </span><span class=n>VIEWS</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- Force synchronous refresh
</span></span></span><span class=line><span class=cl><span class=n>REFRESH</span><span class=w> </span><span class=n>MATERIALIZED</span><span class=w> </span><span class=k>VIEW</span><span class=w> </span><span class=n>db</span><span class=p>.</span><span class=n>mv_name</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=n>SYNC</span><span class=w> </span><span class=k>MODE</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- Reactivate a deactivated MV
</span></span></span><span class=line><span class=cl><span class=k>ALTER</span><span class=w> </span><span class=n>MATERIALIZED</span><span class=w> </span><span class=k>VIEW</span><span class=w> </span><span class=n>db</span><span class=p>.</span><span class=n>mv_name</span><span class=w> </span><span class=n>ACTIVE</span><span class=p>;</span></span></span></code></pre></div></div><h3 class="relative group">Routine Load Monitoring<div id=routine-load-monitoring class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#routine-load-monitoring aria-label=Anchor>#</a></span></h3><p>The status frequently transitions to <code>PAUSED</code>. Common causes include Kafka offset issues or malformed messages.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- Check status
</span></span></span><span class=line><span class=cl><span class=k>SHOW</span><span class=w> </span><span class=k>ROUTINE</span><span class=w> </span><span class=k>LOAD</span><span class=w> </span><span class=k>FOR</span><span class=w> </span><span class=n>db</span><span class=p>.</span><span class=n>load_job</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- Resume
</span></span></span><span class=line><span class=cl><span class=n>RESUME</span><span class=w> </span><span class=k>ROUTINE</span><span class=w> </span><span class=k>LOAD</span><span class=w> </span><span class=k>FOR</span><span class=w> </span><span class=n>db</span><span class=p>.</span><span class=n>load_job</span><span class=p>;</span></span></span></code></pre></div></div><h3 class="relative group">Scale-in Precautions<div id=scale-in-precautions class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#scale-in-precautions aria-label=Anchor>#</a></span></h3><p>When scaling down nodes, you <strong>must perform a Decommission first</strong>. Removing nodes without this procedure will result in data loss.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 1. Check current nodes
</span></span></span><span class=line><span class=cl><span class=k>SHOW</span><span class=w> </span><span class=n>PROC</span><span class=w> </span><span class=s1>&#39;/backends&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 2. Start decommission
</span></span></span><span class=line><span class=cl><span class=k>ALTER</span><span class=w> </span><span class=k>SYSTEM</span><span class=w> </span><span class=n>DECOMMISSION</span><span class=w> </span><span class=n>BACKEND</span><span class=w> </span><span class=s2>&#34;&lt;BE_IP&gt;:&lt;HEARTBEAT_PORT&gt;&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=c1>-- 3. Wait until TabletNum reaches 0, then remove
</span></span></span><span class=line><span class=cl><span class=k>ALTER</span><span class=w> </span><span class=k>SYSTEM</span><span class=w> </span><span class=k>DROP</span><span class=w> </span><span class=n>BACKEND</span><span class=w> </span><span class=s2>&#34;&lt;BE_IP&gt;:&lt;HEARTBEAT_PORT&gt;&#34;</span><span class=p>;</span></span></span></code></pre></div></div><h2 class="relative group">Things to Know Before Adopting<div id=things-to-know-before-adopting class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#things-to-know-before-adopting aria-label=Anchor>#</a></span></h2><h3 class="relative group">Known Limitations<div id=known-limitations class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#known-limitations aria-label=Anchor>#</a></span></h3><table><thead><tr><th>Issue</th><th>Description</th><th>Workaround</th></tr></thead><tbody><tr><td>Routine Load</td><td>Limited handling of malformed messages</td><td>Pre-validate on the Kafka side</td></tr><tr><td>datetime partitions</td><td>Compatibility issues with Iceberg datetime partitions</td><td>Use an alternative partitioning strategy</td></tr><tr><td>Version upgrades</td><td>Encountered bugs in 4.x releases</td><td>Always test in a staging environment</td></tr></tbody></table><blockquote><p>Always thoroughly validate version upgrades in a staging environment before applying them to production. We went through several rounds of upgrades and rollbacks ourselves. Have a rollback plan ready at all times.</p></blockquote><h3 class="relative group">Adoption Checklist<div id=adoption-checklist class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#adoption-checklist aria-label=Anchor>#</a></span></h3><p><strong>Pre-deployment</strong></p><ul><li><input disabled type=checkbox> Define use cases and requirements</li><li><input disabled type=checkbox> Estimate data volume and growth rate</li><li><input disabled type=checkbox> Choose table models</li><li><input disabled type=checkbox> Design partitioning strategy</li></ul><p><strong>Post-deployment</strong></p><ul><li><input disabled type=checkbox> Create and verify Routine Load jobs</li><li><input disabled type=checkbox> Configure user permissions</li><li><input disabled type=checkbox> Set data retention policies (TTL)</li><li><input disabled type=checkbox> Document scale-in/out procedures</li><li><input disabled type=checkbox> Build monitoring dashboards</li></ul><h2 class="relative group">Conclusion<div id=conclusion class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#conclusion aria-label=Anchor>#</a></span></h2><p>Here are the key lessons we learned from adopting StarRocks:</p><ol><li><strong>The Aggregate Key model is the centerpiece</strong> &ndash; Automatic aggregation at ingestion time optimizes both storage and query performance</li><li><strong>Use BITMAP_UNION for exact unique counts</strong> &ndash; Business KPIs demand precise numbers, not approximations</li><li><strong>Routine Load + Aggregate Key replaces Flink</strong> &ndash; You can build a real-time aggregation pipeline with SQL alone</li><li><strong>Invest in operational automation</strong> &ndash; Monitoring Materialized Views and Routine Load is essential</li></ol><p>For real-time analytics workloads, StarRocks is a powerful option that dramatically reduces pipeline complexity. That said, it is still maturing in terms of version upgrade stability and operational robustness, so we recommend conducting thorough PoC testing and staging validation before adopting it.</p><p><strong>Reference</strong>: <a href=https://docs.starrocks.io target=_blank rel=noreferrer>StarRocks Official Docs</a></p></div><section class="flex flex-row flex-wrap justify-center pt-4 text-xl"><a target=_blank class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://nanta-data.dev/en/posts/starrocks-adoption-guide/&amp;title=StarRocks%20Adoption%20Story:%20Revolutionizing%20Data%20Pipelines%20with%20Real-time%20OLAP" title="Share on LinkedIn" aria-label="Share on LinkedIn"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg>
</span></a><a target=_blank class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://reddit.com/submit/?url=https://nanta-data.dev/en/posts/starrocks-adoption-guide/&amp;resubmit=true&amp;title=StarRocks%20Adoption%20Story:%20Revolutionizing%20Data%20Pipelines%20with%20Real-time%20OLAP" title="Submit to Reddit" aria-label="Submit to Reddit"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M201.5 305.5c-13.8.0-24.9-11.1-24.9-24.6.0-13.8 11.1-24.9 24.9-24.9 13.6.0 24.6 11.1 24.6 24.9.0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4.0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8.0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7.0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9.0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5.0 52.6 59.2 95.2 132 95.2 73.1.0 132.3-42.6 132.3-95.2.0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6.0-2.2-2.2-6.1-2.2-8.3.0-2.5 2.5-2.5 6.4.0 8.6 22.8 22.8 87.3 22.8 110.2.0 2.5-2.2 2.5-6.1.0-8.6-2.2-2.2-6.1-2.2-8.3.0zm7.7-75c-13.6.0-24.6 11.1-24.6 24.9.0 13.6 11.1 24.6 24.6 24.6 13.8.0 24.9-11.1 24.9-24.6.0-13.8-11-24.9-24.9-24.9z"/></svg>
</span></a><a target=_blank class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="mailto:?body=https://nanta-data.dev/en/posts/starrocks-adoption-guide/&amp;subject=StarRocks%20Adoption%20Story:%20Revolutionizing%20Data%20Pipelines%20with%20Real-time%20OLAP" title="Send via email" aria-label="Send via email"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1-27.64 140.9 68.65 266.2 199.1 285.1 19.01 2.888 36.17-12.26 36.17-31.49l1e-4-.6631c0-15.74-11.44-28.88-26.84-31.24-84.35-12.98-149.2-86.13-149.2-174.2.0-102.9 88.61-185.5 193.4-175.4 91.54 8.869 158.6 91.25 158.6 183.2v16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98.0036c-7.299.0-13.2 4.992-15.12 11.68-24.85-12.15-54.24-16.38-86.06-5.106-38.75 13.73-68.12 48.91-73.72 89.64-9.483 69.01 43.81 128 110.9 128 26.44.0 50.43-9.544 69.59-24.88 24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3c0-149.2-133.9-265.632-287.3-235.57zM239.1 304.3c-26.47.0-48-21.56-48-48.05s21.53-48.05 48-48.05 48 21.56 48 48.05-20.6 48.05-48 48.05z"/></svg></span></a></section></div></section><footer class="pt-8 max-w-prose print:hidden"><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span class="flex flex-col"><a class="flex text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" href=/en/posts/starrocks-compression-guide/><span class=leading-6><span class="inline-block rtl:rotate-180">&larr;</span>&ensp;StarRocks Compression Guide: Optimizing Performance and Storage
</span></a><span class="ms-6 mt-1 text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2026-02-23T00:00:00+00:00>23 February 2026</time>
</span></span><span class="flex flex-col items-end"><a class="flex text-right text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" href=/en/posts/starburst-trino-ai-pivot/><span class=leading-6>Starburst's AI Pivot: Is Trino Open Source Going to Be Okay?&ensp;<span class="inline-block rtl:rotate-180">&rarr;</span>
</span></a><span class="me-6 mt-1 text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2026-02-23T00:00:00+00:00>23 February 2026</time></span></span></div></div></footer></article><div id=scroll-to-top class="fixed bottom-6 end-6 z-50 transform translate-y-4 opacity-0 duration-200"><a href=#the-top class="pointer-events-auto flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div></main><footer id=site-footer class="py-10 print:hidden"><nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400"><ul class="flex list-none flex-col sm:flex-row"><li class="flex mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href=/en/privacy-policy/ title="Privacy Policy">Privacy Policy</a></li></ul></nav><div class="flex items-center justify-between"><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2026
nanta</p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script></footer><div id=search-wrapper class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500" data-url=https://nanta-data.dev/en/><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=Search tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Close (Esc)">
<span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></body></html>