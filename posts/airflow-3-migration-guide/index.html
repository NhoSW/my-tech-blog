<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=theme-color><title>Airflow 3.0 Migration Guide: Lessons from a Large-Scale DAG Environment &#183; nanta - Data Engineering</title><meta name=title content="Airflow 3.0 Migration Guide: Lessons from a Large-Scale DAG Environment &#183; nanta - Data Engineering"><meta name=description content="Practical lessons from migrating to Airflow 3.x ahead of the 2.x EOL. Covers major breaking changes, a phased upgrade strategy, DAG compatibility approaches, and hard-won lessons from operating hundreds of DAGs in production."><meta name=keywords content="airflow,migration,orchestration,python,data-pipeline,"><link rel=canonical href=https://nanta-data.dev/posts/airflow-3-migration-guide/><meta name=author content="nanta"><link href=https://github.com/NhoSW rel=me><meta property="og:url" content="https://nanta-data.dev/posts/airflow-3-migration-guide/"><meta property="og:site_name" content="nanta - Data Engineering"><meta property="og:title" content="Airflow 3.0 Migration Guide: Lessons from a Large-Scale DAG Environment"><meta property="og:description" content="Practical lessons from migrating to Airflow 3.x ahead of the 2.x EOL. Covers major breaking changes, a phased upgrade strategy, DAG compatibility approaches, and hard-won lessons from operating hundreds of DAGs in production."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-02-23T00:00:00+00:00"><meta property="article:modified_time" content="2026-02-23T00:00:00+00:00"><meta property="article:tag" content="Airflow"><meta property="article:tag" content="Migration"><meta property="article:tag" content="Orchestration"><meta property="article:tag" content="Python"><meta property="article:tag" content="Data-Pipeline"><meta name=twitter:card content="summary"><meta name=twitter:title content="Airflow 3.0 Migration Guide: Lessons from a Large-Scale DAG Environment"><meta name=twitter:description content="Practical lessons from migrating to Airflow 3.x ahead of the 2.x EOL. Covers major breaking changes, a phased upgrade strategy, DAG compatibility approaches, and hard-won lessons from operating hundreds of DAGs in production."><link type=text/css rel=stylesheet href=/css/main.bundle.min.c14e86e0d9a09802d254d2a15c05847ae65bfc2e98c2166fabc67369d2d7f2eae6c1da03bbba58cfd41a4af802147c75ce9fdc11dd724ac627ab2903942cbb79.css integrity="sha512-wU6G4NmgmALSVNKhXAWEeuZb/C6YwhZvq8ZzadLX8urmwdoDu7pYz9QaSvgCFHx1zp/cEd1ySsYnqykDlCy7eQ=="><script type=text/javascript src=/js/appearance.min.6f41174b3a05b680820fe08cadbfa5fb7a7ca347b76a0955cdc68b9d8aca1ce24f0547e138cea33bcc7904d551a90afcb1cc7f2d9fe8557075d501419046c08c.js integrity="sha512-b0EXSzoFtoCCD+CMrb+l+3p8o0e3aglVzcaLnYrKHOJPBUfhOM6jO8x5BNVRqQr8scx/LZ/oVXB11QFBkEbAjA=="></script><script src=/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7+kfJ6kKCJxQGC+8wm+Bz9JucDjDTGNew=="></script><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.bdda7dece6cbaf08deef7d254f7f842f3261c2524d247905127c9a20decc03f1011a2950048464c79272c1ce0705a49a41147f39f2b95163bb71d404b33263ef.js integrity="sha512-vdp97ObLrwje730lT3+ELzJhwlJNJHkFEnyaIN7MA/EBGilQBIRkx5Jywc4HBaSaQRR/OfK5UWO7cdQEszJj7w==" data-copy=Copy data-copied=Copied></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Posts","name":"Airflow 3.0 Migration Guide: Lessons from a Large-Scale DAG Environment","headline":"Airflow 3.0 Migration Guide: Lessons from a Large-Scale DAG Environment","inLanguage":"en","url":"https://nanta-data.dev/posts/airflow-3-migration-guide/","author":{"@type":"Person","name":"nanta"},"copyrightYear":"2026","dateCreated":"2026-02-23T00:00:00\u002b00:00","datePublished":"2026-02-23T00:00:00\u002b00:00","dateModified":"2026-02-23T00:00:00\u002b00:00","keywords":["airflow","migration","orchestration","python","data-pipeline"],"mainEntityOfPage":"true","wordCount":"1578"}]</script><link rel=preconnect href=https://cdn.jsdelivr.net crossorigin><link href=https://cdn.jsdelivr.net/npm/geist@1.3.1/dist/fonts/geist-sans/style.min.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/geist@1.3.1/dist/fonts/geist-mono/style.min.css rel=stylesheet></head><body class="flex flex-col h-screen m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32 text-lg bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral bf-scrollbar"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 pe-2 dark:text-primary-400">&darr;</span>
Skip to main content</a></div><div class=min-h-[148px]></div><div class="fixed inset-x-0 z-100"><div id=menu-blur class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl shadow-2xl bg-neutral/25 dark:bg-neutral-800/25"></div><div class="relative m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32"><div class="main-menu flex items-center w-full gap-2 p-1 pl-0"><a href=/ class="text-base font-medium truncate min-w-0 shrink">nanta - Data Engineering</a><div class="flex items-center ms-auto"><div class="hidden md:flex"><nav class="flex items-center gap-x-5 h-12"><a href=/posts/ class="flex items-center bf-icon-color-hover" aria-label=Posts title=Posts><span class="text-base font-medium break-normal">Posts
</span></a><a href=/categories/ class="flex items-center bf-icon-color-hover" aria-label=Categories title=Categories><span class="text-base font-medium break-normal">Categories
</span></a><a href=/tags/ class="flex items-center bf-icon-color-hover" aria-label=Tags title=Tags><span class="text-base font-medium break-normal">Tags
</span></a><a href=/about/ class="flex items-center bf-icon-color-hover" aria-label=About title=About><span class="text-base font-medium break-normal">About</span></a><div class="translation nested-menu"><button class="cursor-pointer flex items-center">
<span class=me-1><span class="relative block icon"><svg viewBox="0 0 640 512"><path fill="currentColor" d="M0 128C0 92.7 28.7 64 64 64H256h48 16H576c35.3.0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H320 304 256 64c-35.3.0-64-28.7-64-64V128zm320 0V384H576V128H320zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1.1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1h73.6l8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2 179 276H141l19-42.8zM448 164c11 0 20 9 20 20v4h44 16c11 0 20 9 20 20s-9 20-20 20h-2l-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4.9.6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9L467 333.8c-4.5-2.7-8.8-5.5-13.1-8.5-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8L410 286.1c-7.8-7.8-7.8-20.5.0-28.3s20.5-7.8 28.3.0l14.6 14.6.5.5c12.4-13.1 22.5-28.3 29.8-45H448 376c-11 0-20-9-20-20s9-20 20-20h52v-4c0-11 9-20 20-20z"/></svg></span>
</span><span class="text-sm font-medium bf-icon-color-hover" title="Airflow 3.0 Migration Guide: Lessons from a Large-Scale DAG Environment">EN</span></button><ul class=menuhide><li class="rounded-xl backdrop-blur shadow-2xl p-2 flex flex-col gap-1"><a href=/posts/airflow-3-migration-guide/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="Airflow 3.0 Migration Guide: Lessons from a Large-Scale DAG Environment">English
</span></a><a href=/ko/posts/airflow-3-migration-guide/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="Airflow 3.0 마이그레이션 가이드: 대규모 DAG 환경에서의 실전 경험">한국어</span></a></li></ul></div><button id=search-button aria-label=Search class="text-base bf-icon-color-hover" title="Search (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button><div class="flex items-center"><button id=appearance-switcher aria-label="Dark mode switcher" type=button class="text-base bf-icon-color-hover"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></nav></div><div class="flex md:hidden"><div class="flex items-center h-14 gap-4"><button id=search-button-mobile aria-label=Search class="flex items-center justify-center bf-icon-color-hover" title="Search (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></button>
<button id=appearance-switcher-mobile type=button aria-label="Dark mode switcher" class="flex items-center justify-center text-neutral-900 hover:text-primary-600 dark:text-neutral-200 dark:hover:text-primary-400"><div class=dark:hidden><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="hidden dark:block"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button>
<input type=checkbox id=mobile-menu-toggle autocomplete=off class="hidden peer">
<label for=mobile-menu-toggle class="flex items-center justify-center cursor-pointer bf-icon-color-hover"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></label><div role=dialog aria-modal=true style=scrollbar-gutter:stable class="fixed inset-0 z-50 invisible overflow-y-auto px-6 py-20 opacity-0 transition-[opacity,visibility] duration-300 peer-checked:visible peer-checked:opacity-100 bg-neutral-50/97 dark:bg-neutral-900/99
bf-scrollbar"><label for=mobile-menu-toggle class="fixed end-8 top-5 flex items-center justify-center z-50 h-12 w-12 cursor-pointer select-none rounded-full bf-icon-color-hover border bf-border-color bf-border-color-hover bg-neutral-50 dark:bg-neutral-900"><span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></label><nav class="mx-auto max-w-md space-y-6"><div class=px-2><a href=/posts/ aria-label=Posts class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title=Posts class="text-2xl font-bold tracking-tight">Posts</span></a></div><div class=px-2><a href=/categories/ aria-label=Categories class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title=Categories class="text-2xl font-bold tracking-tight">Categories</span></a></div><div class=px-2><a href=/tags/ aria-label=Tags class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title=Tags class="text-2xl font-bold tracking-tight">Tags</span></a></div><div class=px-2><a href=/about/ aria-label=About class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title=About class="text-2xl font-bold tracking-tight">About</span></a></div><div class="flex flex-wrap items-center [&_span]:text-2xl [&_.translation_button_.icon]:text-4xl! [&_.translation_button_span]:text-base! [&_.translation_.menuhide_span]:text-sm! gap-x-6 ps-2 mt-8 pt-8 border-t bf-border-color"><div class="translation nested-menu"><button class="cursor-pointer flex items-center">
<span class=me-1><span class="relative block icon"><svg viewBox="0 0 640 512"><path fill="currentColor" d="M0 128C0 92.7 28.7 64 64 64H256h48 16H576c35.3.0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H320 304 256 64c-35.3.0-64-28.7-64-64V128zm320 0V384H576V128H320zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1.1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1h73.6l8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2 179 276H141l19-42.8zM448 164c11 0 20 9 20 20v4h44 16c11 0 20 9 20 20s-9 20-20 20h-2l-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4.9.6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9L467 333.8c-4.5-2.7-8.8-5.5-13.1-8.5-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8L410 286.1c-7.8-7.8-7.8-20.5.0-28.3s20.5-7.8 28.3.0l14.6 14.6.5.5c12.4-13.1 22.5-28.3 29.8-45H448 376c-11 0-20-9-20-20s9-20 20-20h52v-4c0-11 9-20 20-20z"/></svg></span>
</span><span class="text-sm font-medium bf-icon-color-hover" title="Airflow 3.0 Migration Guide: Lessons from a Large-Scale DAG Environment">EN</span></button><ul class=menuhide><li class="rounded-xl backdrop-blur shadow-2xl p-2 flex flex-col gap-1"><a href=/posts/airflow-3-migration-guide/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="Airflow 3.0 Migration Guide: Lessons from a Large-Scale DAG Environment">English
</span></a><a href=/ko/posts/airflow-3-migration-guide/ class="flex items-center bf-icon-color-hover px-3 py-1"><span class="text-sm font-sm" title="Airflow 3.0 마이그레이션 가이드: 대규모 DAG 환경에서의 실전 경험">한국어</span></a></li></ul></div></div></nav></div></div></div></div></div></div></div><script type=text/javascript src=/js/background-blur.min.605b3b942818f0ab5a717ae446135ec46b8ee5a2ad12ae56fb90dc2a76ce30c388f9fec8bcc18db15bd47e3fa8a09d779fa12aa9c184cf614a315bc72c6c163d.js integrity="sha512-YFs7lCgY8KtacXrkRhNexGuO5aKtEq5W+5DcKnbOMMOI+f7IvMGNsVvUfj+ooJ13n6EqqcGEz2FKMVvHLGwWPQ==" data-blur-id=menu-blur></script><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header id=single_header class="mt-5 max-w-prose"><ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden"><li class=hidden><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/>nanta - Data Engineering</a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/posts/>Posts</a><span class="px-1 text-primary-500">/</span></li><li class=hidden><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/posts/airflow-3-migration-guide/>Airflow 3.0 Migration Guide: Lessons from a Large-Scale DAG Environment</a><span class="px-1 text-primary-500">/</span></li></ol><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Airflow 3.0 Migration Guide: Lessons from a Large-Scale DAG Environment</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime=2026-02-23T00:00:00+00:00>23 February 2026</time><span class="px-2 text-primary-500">&#183;</span><span title="Reading time">8 mins</span></div></div><div class="flex author"><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">Author</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">nanta</div><div class="text-sm text-neutral-700 dark:text-neutral-400">Data Engineering blog covering Apache Kafka, Airflow, Trino, StarRocks, and modern data infrastructure. Sharing practical lessons from production.</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://github.com/NhoSW target=_blank aria-label=Github title=Github rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></span></a></div></div></div></div><div class=mb-5></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first lg:ms-auto px-0 lg:order-last lg:ps-8 lg:max-w-2xs"><div class="toc ps-5 print:hidden lg:sticky lg:top-[140px]"><details open id=TOCView class="toc-right mt-0 overflow-y-auto overscroll-contain bf-scrollbar rounded-lg -ms-5 ps-5 pe-2 hidden lg:block"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="min-w-[220px] py-2 border-dotted border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#why-migrate-now>Why Migrate Now?</a><ul><li><a href=#key-improvements-in-airflow-3x>Key Improvements in Airflow 3.x</a></li><li><a href=#architectural-change-the-arrival-of-the-api-server>Architectural Change: The Arrival of the API Server</a></li></ul></li><li><a href=#phased-upgrade-strategy>Phased Upgrade Strategy</a><ul><li><a href=#phase-1-update-to-the-latest-2x-version-211-optional>Phase 1: Update to the Latest 2.x Version (2.11) (Optional)</a></li><li><a href=#phase-2-update-to-30x>Phase 2: Update to 3.0.x</a></li><li><a href=#phase-3-upgrade-python-39--312>Phase 3: Upgrade Python (3.9 → 3.12+)</a></li><li><a href=#phase-4-update-to-31x>Phase 4: Update to 3.1.x</a></li><li><a href=#sequential-rollout-across-environments>Sequential Rollout Across Environments</a></li></ul></li><li><a href=#key-breaking-changes-and-how-to-handle-them>Key Breaking Changes and How to Handle Them</a><ul><li><a href=#1-schedule_interval--schedule>1. <code>schedule_interval</code> → <code>schedule</code></a></li><li><a href=#2-passing-non-existent-operator-arguments-is-no-longer-allowed>2. Passing Non-Existent Operator Arguments Is No Longer Allowed</a></li><li><a href=#3-deprecated-contexttemplate-variables-removed>3. Deprecated Context/Template Variables Removed</a></li><li><a href=#4-per-database-operators-unified--sqlexecutequeryoperator>4. Per-Database Operators Unified → <code>SQLExecuteQueryOperator</code></a></li><li><a href=#5-dummyoperator--emptyoperator>5. <code>DummyOperator</code> → <code>EmptyOperator</code></a></li><li><a href=#6-simplehttpoperator--httpoperator>6. <code>SimpleHttpOperator</code> → <code>HttpOperator</code></a></li><li><a href=#7-connection-getter-methods--direct-property-access>7. Connection Getter Methods → Direct Property Access</a></li><li><a href=#8-other-package-path-changes>8. Other Package Path Changes</a></li></ul></li><li><a href=#migration-strategies-for-large-scale-dag-environments>Migration Strategies for Large-Scale DAG Environments</a><ul><li><a href=#add-v3-compatibility-checks-to-your-ci-pipeline>Add v3 Compatibility Checks to Your CI Pipeline</a></li><li><a href=#intentionally-keep-the-migration-hurdle-high>Intentionally Keep the Migration Hurdle High</a></li><li><a href=#proactively-update-custom-provider-packages>Proactively Update Custom Provider Packages</a></li><li><a href=#helm-chart-updates>Helm Chart Updates</a></li></ul></li><li><a href=#fab-auth-manager-issue>FAB Auth Manager Issue</a></li><li><a href=#closing-thoughts>Closing Thoughts</a></li></ul></nav></div></details><details class="toc-inside mt-0 overflow-hidden rounded-lg -ms-5 ps-5 lg:hidden"><summary class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="py-2 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#why-migrate-now>Why Migrate Now?</a><ul><li><a href=#key-improvements-in-airflow-3x>Key Improvements in Airflow 3.x</a></li><li><a href=#architectural-change-the-arrival-of-the-api-server>Architectural Change: The Arrival of the API Server</a></li></ul></li><li><a href=#phased-upgrade-strategy>Phased Upgrade Strategy</a><ul><li><a href=#phase-1-update-to-the-latest-2x-version-211-optional>Phase 1: Update to the Latest 2.x Version (2.11) (Optional)</a></li><li><a href=#phase-2-update-to-30x>Phase 2: Update to 3.0.x</a></li><li><a href=#phase-3-upgrade-python-39--312>Phase 3: Upgrade Python (3.9 → 3.12+)</a></li><li><a href=#phase-4-update-to-31x>Phase 4: Update to 3.1.x</a></li><li><a href=#sequential-rollout-across-environments>Sequential Rollout Across Environments</a></li></ul></li><li><a href=#key-breaking-changes-and-how-to-handle-them>Key Breaking Changes and How to Handle Them</a><ul><li><a href=#1-schedule_interval--schedule>1. <code>schedule_interval</code> → <code>schedule</code></a></li><li><a href=#2-passing-non-existent-operator-arguments-is-no-longer-allowed>2. Passing Non-Existent Operator Arguments Is No Longer Allowed</a></li><li><a href=#3-deprecated-contexttemplate-variables-removed>3. Deprecated Context/Template Variables Removed</a></li><li><a href=#4-per-database-operators-unified--sqlexecutequeryoperator>4. Per-Database Operators Unified → <code>SQLExecuteQueryOperator</code></a></li><li><a href=#5-dummyoperator--emptyoperator>5. <code>DummyOperator</code> → <code>EmptyOperator</code></a></li><li><a href=#6-simplehttpoperator--httpoperator>6. <code>SimpleHttpOperator</code> → <code>HttpOperator</code></a></li><li><a href=#7-connection-getter-methods--direct-property-access>7. Connection Getter Methods → Direct Property Access</a></li><li><a href=#8-other-package-path-changes>8. Other Package Path Changes</a></li></ul></li><li><a href=#migration-strategies-for-large-scale-dag-environments>Migration Strategies for Large-Scale DAG Environments</a><ul><li><a href=#add-v3-compatibility-checks-to-your-ci-pipeline>Add v3 Compatibility Checks to Your CI Pipeline</a></li><li><a href=#intentionally-keep-the-migration-hurdle-high>Intentionally Keep the Migration Hurdle High</a></li><li><a href=#proactively-update-custom-provider-packages>Proactively Update Custom Provider Packages</a></li><li><a href=#helm-chart-updates>Helm Chart Updates</a></li></ul></li><li><a href=#fab-auth-manager-issue>FAB Auth Manager Issue</a></li><li><a href=#closing-thoughts>Closing Thoughts</a></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-fit"><div class="article-content max-w-prose mb-20"><p>The End of Life for Airflow 2.x is approaching on April 22, 2026. Our team carried out an Airflow 3.x migration in a production environment running hundreds of DAGs. This post is a record of the breaking changes we encountered, the phased upgrade strategy we used, and the practical lessons we learned from migrating at scale.</p><hr><h2 class="relative group">Why Migrate Now?<div id=why-migrate-now class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#why-migrate-now aria-label=Anchor>#</a></span></h2><h3 class="relative group">Key Improvements in Airflow 3.x<div id=key-improvements-in-airflow-3x class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#key-improvements-in-airflow-3x aria-label=Anchor>#</a></span></h3><p>Airflow 3.x is not just a major version bump. Fundamental changes have occurred at the architectural level.</p><ul><li><strong>DAG versioning</strong>: No more hacking version suffixes onto <code>dag_id</code> or dealing with scheduling confusion when the schedule changes.</li><li><strong>Native backfill</strong>: Backfills that used to depend on the CLI or custom plugins are now supported directly from the web UI.</li><li><strong>Event/asset-based triggers</strong>: Scheduling options now go far beyond simple cron expressions.</li><li><strong>React-based web UI</strong>: The UI has been completely rebuilt from Flask App Builder to React, dramatically improving usability.</li></ul><h3 class="relative group">Architectural Change: The Arrival of the API Server<div id=architectural-change-the-arrival-of-the-api-server class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#architectural-change-the-arrival-of-the-api-server aria-label=Anchor>#</a></span></h3><p>The most significant architectural change in 3.x is that <strong>the API Server has become the sole gateway to the metadata database.</strong></p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Airflow 2.x:
</span></span><span class=line><span class=cl>  Webserver ─── MetaDB
</span></span><span class=line><span class=cl>  Worker ────── MetaDB
</span></span><span class=line><span class=cl>  Scheduler ─── MetaDB
</span></span><span class=line><span class=cl>  DAG Code ──── MetaDB (direct access possible)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Airflow 3.x:
</span></span><span class=line><span class=cl>  API Server ── MetaDB (sole access path)
</span></span><span class=line><span class=cl>  Webserver ─── API Server
</span></span><span class=line><span class=cl>  Worker ────── API Server
</span></span><span class=line><span class=cl>  Scheduler ─── API Server
</span></span><span class=line><span class=cl>  DAG Code ──── API Server (no direct access)</span></span></code></pre></div></div><p>As a result, <strong>any pattern where DAG top-level code directly accessed the metadata database will break.</strong> This is the single most impactful change in the entire migration.</p><hr><h2 class="relative group">Phased Upgrade Strategy<div id=phased-upgrade-strategy class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#phased-upgrade-strategy aria-label=Anchor>#</a></span></h2><p>Jumping straight to the latest version is risky. We devised a four-phase strategy.</p><h3 class="relative group">Phase 1: Update to the Latest 2.x Version (2.11) (Optional)<div id=phase-1-update-to-the-latest-2x-version-211-optional class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#phase-1-update-to-the-latest-2x-version-211-optional aria-label=Anchor>#</a></span></h3><p>This serves as a safety net in case issues arise during the jump to 3.x. Version 2.11 displays deprecation warnings for features that will be removed in 3.x, so you can identify which code needs to be modified ahead of time.</p><h3 class="relative group">Phase 2: Update to 3.0.x<div id=phase-2-update-to-30x class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#phase-2-update-to-30x aria-label=Anchor>#</a></span></h3><p>If you&rsquo;re on Python 3.9, only <strong>3.0.x is supported</strong>, not the latest 3.1.x. Upgrade the Airflow major version first, before upgrading Python.</p><h3 class="relative group">Phase 3: Upgrade Python (3.9 → 3.12+)<div id=phase-3-upgrade-python-39--312 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#phase-3-upgrade-python-39--312 aria-label=Anchor>#</a></span></h3><p>Airflow 3.1.x does not support Python 3.9. Aim for Python 3.12 or later, but compromise with 3.10 or 3.11 if dependency compatibility issues arise.</p><h3 class="relative group">Phase 4: Update to 3.1.x<div id=phase-4-update-to-31x class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#phase-4-update-to-31x aria-label=Anchor>#</a></span></h3><p>Finally, upgrade to the latest stable release.</p><h3 class="relative group">Sequential Rollout Across Environments<div id=sequential-rollout-across-environments class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#sequential-rollout-across-environments aria-label=Anchor>#</a></span></h3><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>DEV → BETA &amp; Personal Environments → STAGE → PROD</span></span></code></pre></div></div><p>Proceed to the next environment only after thorough validation in each one. We spent about two weeks validating in DEV and one week in BETA.</p><hr><h2 class="relative group">Key Breaking Changes and How to Handle Them<div id=key-breaking-changes-and-how-to-handle-them class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#key-breaking-changes-and-how-to-handle-them aria-label=Anchor>#</a></span></h2><h3 class="relative group">1. <code>schedule_interval</code> → <code>schedule</code><div id=1-schedule_interval--schedule class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#1-schedule_interval--schedule aria-label=Anchor>#</a></span></h3><p>This is the most commonly encountered change. Simply pass the same cron expression you used for <code>schedule_interval</code> to <code>schedule</code> instead.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Before (Airflow 2.x)</span>
</span></span><span class=line><span class=cl><span class=n>DAG</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>dag_id</span><span class=o>=</span><span class=s2>&#34;my_dag&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>schedule_interval</span><span class=o>=</span><span class=s2>&#34;5 2 * * *&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># After (Airflow 3.x)</span>
</span></span><span class=line><span class=cl><span class=n>DAG</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>dag_id</span><span class=o>=</span><span class=s2>&#34;my_dag&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>schedule</span><span class=o>=</span><span class=s2>&#34;5 2 * * *&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span></span></span></code></pre></div></div><p>It&rsquo;s a straightforward substitution, but when you have hundreds of DAGs, every single one must be updated without exception. We&rsquo;ll cover how to automate verification in CI later.</p><h3 class="relative group">2. Passing Non-Existent Operator Arguments Is No Longer Allowed<div id=2-passing-non-existent-operator-arguments-is-no-longer-allowed class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#2-passing-non-existent-operator-arguments-is-no-longer-allowed aria-label=Anchor>#</a></span></h3><p>In Airflow 3.x, individual tasks now receive serialized DAGs from the metadata database for execution. As a result, the <code>allow_illegal_arguments</code> setting has been removed, and <strong>passing an argument not defined on the operator will cause the DAG import itself to fail.</strong></p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Code like this worked silently in 2.x, but raises an error in 3.x</span>
</span></span><span class=line><span class=cl><span class=n>MyOperator</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>task_id</span><span class=o>=</span><span class=s2>&#34;my_task&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>num_partition</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span>  <span class=c1># Actual argument name is num_partitions (plural)</span>
</span></span><span class=line><span class=cl><span class=p>)</span></span></span></code></pre></div></div><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>TypeError: Invalid arguments were passed to MyOperator (task_id: my_task).
</span></span><span class=line><span class=cl>Invalid arguments were:
</span></span><span class=line><span class=cl>**kwargs: {&#39;num_partition&#39;: 10}</span></span></code></pre></div></div><p>This change actually serves as <strong>an opportunity to catch latent bugs.</strong> If a misspelled argument had been silently ignored for a long time, this migration is the moment to fix it.</p><h3 class="relative group">3. Deprecated Context/Template Variables Removed<div id=3-deprecated-contexttemplate-variables-removed class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#3-deprecated-contexttemplate-variables-removed aria-label=Anchor>#</a></span></h3><p>Variables that only showed deprecation warnings in 2.x have been completely removed in 3.x. The most impactful one is <code>execution_date</code>.</p><table><thead><tr><th>Deprecated Variable</th><th>Replacement</th></tr></thead><tbody><tr><td><code>{{ execution_date }}</code></td><td><code>{{ logical_date }}</code> or <code>{{ data_interval_start }}</code></td></tr><tr><td><code>{{ next_execution_date }}</code></td><td><code>{{ data_interval_end }}</code></td></tr><tr><td><code>{{ prev_execution_date_success }}</code></td><td><code>{{ prev_data_interval_start_success }}</code></td></tr></tbody></table><p>Both Jinja templates and Python code need to be updated.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Jinja templates</span>
</span></span><span class=line><span class=cl><span class=c1># Before</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;SELECT * FROM table WHERE dt = &#39;{{ execution_date }}&#39;&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># After</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;SELECT * FROM table WHERE dt = &#39;{{ logical_date }}&#39;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Python context</span>
</span></span><span class=line><span class=cl><span class=c1># Before</span>
</span></span><span class=line><span class=cl><span class=n>execution_date</span> <span class=o>=</span> <span class=n>context</span><span class=p>[</span><span class=s2>&#34;execution_date&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=c1># After</span>
</span></span><span class=line><span class=cl><span class=n>logical_date</span> <span class=o>=</span> <span class=n>context</span><span class=p>[</span><span class=s2>&#34;logical_date&#34;</span><span class=p>]</span></span></span></code></pre></div></div><h3 class="relative group">4. Per-Database Operators Unified → <code>SQLExecuteQueryOperator</code><div id=4-per-database-operators-unified--sqlexecutequeryoperator class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#4-per-database-operators-unified--sqlexecutequeryoperator aria-label=Anchor>#</a></span></h3><p>Individual operators for MySQL, PostgreSQL, Trino, etc. have been consolidated into a single <code>SQLExecuteQueryOperator</code>. Internally, it automatically selects the appropriate Hook based on the connection type.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Before (Airflow 2.x)</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>airflow.providers.mysql.operators.mysql</span> <span class=kn>import</span> <span class=n>MySqlOperator</span>
</span></span><span class=line><span class=cl><span class=n>MySqlOperator</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>task_id</span><span class=o>=</span><span class=s2>&#34;task&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>mysql_conn_id</span><span class=o>=</span><span class=s2>&#34;my_conn&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>sql</span><span class=o>=</span><span class=s2>&#34;SELECT 1&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># After (Airflow 3.x)</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>airflow.providers.common.sql.operators.sql</span> <span class=kn>import</span> <span class=n>SQLExecuteQueryOperator</span>
</span></span><span class=line><span class=cl><span class=n>SQLExecuteQueryOperator</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>task_id</span><span class=o>=</span><span class=s2>&#34;task&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>conn_id</span><span class=o>=</span><span class=s2>&#34;my_conn&#34;</span><span class=p>,</span>  <span class=c1># DB-specific conn_id → unified conn_id</span>
</span></span><span class=line><span class=cl>    <span class=n>sql</span><span class=o>=</span><span class=s2>&#34;SELECT 1&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span></span></span></code></pre></div></div><h3 class="relative group">5. <code>DummyOperator</code> → <code>EmptyOperator</code><div id=5-dummyoperator--emptyoperator class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#5-dummyoperator--emptyoperator aria-label=Anchor>#</a></span></h3><p>You need to use an import path that works in both 2.x and 3.x.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Works only in v2 (errors in 3.x)</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>airflow.operators.dummy</span> <span class=kn>import</span> <span class=n>DummyOperator</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Works only in v3</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>airflow.providers.standard.operators.empty</span> <span class=kn>import</span> <span class=n>EmptyOperator</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Compatible with both v2 &amp; v3 (recommended)</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>airflow.operators.empty</span> <span class=kn>import</span> <span class=n>EmptyOperator</span></span></span></code></pre></div></div><h3 class="relative group">6. <code>SimpleHttpOperator</code> → <code>HttpOperator</code><div id=6-simplehttpoperator--httpoperator class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#6-simplehttpoperator--httpoperator aria-label=Anchor>#</a></span></h3><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Before</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>airflow.providers.http.operators.http</span> <span class=kn>import</span> <span class=n>SimpleHttpOperator</span>
</span></span><span class=line><span class=cl><span class=c1># After</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>airflow.providers.http.operators.http</span> <span class=kn>import</span> <span class=n>HttpOperator</span></span></span></code></pre></div></div><h3 class="relative group">7. Connection Getter Methods → Direct Property Access<div id=7-connection-getter-methods--direct-property-access class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#7-connection-getter-methods--direct-property-access aria-label=Anchor>#</a></span></h3><p>The Connection class interface has been changed to be more Pythonic.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Before</span>
</span></span><span class=line><span class=cl><span class=n>conn</span> <span class=o>=</span> <span class=n>BaseHook</span><span class=o>.</span><span class=n>get_connection</span><span class=p>(</span><span class=s2>&#34;my_conn&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>password</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>get_password</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>host</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>get_host</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># After</span>
</span></span><span class=line><span class=cl><span class=n>conn</span> <span class=o>=</span> <span class=n>BaseHook</span><span class=o>.</span><span class=n>get_connection</span><span class=p>(</span><span class=s2>&#34;my_conn&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>password</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>password</span>
</span></span><span class=line><span class=cl><span class=n>host</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>host</span></span></span></code></pre></div></div><h3 class="relative group">8. Other Package Path Changes<div id=8-other-package-path-changes class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#8-other-package-path-changes aria-label=Anchor>#</a></span></h3><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># cached_property</span>
</span></span><span class=line><span class=cl><span class=c1># Before: from airflow.compat.functools import cached_property</span>
</span></span><span class=line><span class=cl><span class=c1># After: from functools import cached_property (Python built-in)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># KubernetesPodOperator</span>
</span></span><span class=line><span class=cl><span class=c1># Before: from airflow.providers.cncf.kubernetes.operators.kubernetes_pod import ...</span>
</span></span><span class=line><span class=cl><span class=c1># After: from airflow.providers.cncf.kubernetes.operators.pod import ...</span></span></span></code></pre></div></div><hr><h2 class="relative group">Migration Strategies for Large-Scale DAG Environments<div id=migration-strategies-for-large-scale-dag-environments class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#migration-strategies-for-large-scale-dag-environments aria-label=Anchor>#</a></span></h2><h3 class="relative group">Add v3 Compatibility Checks to Your CI Pipeline<div id=add-v3-compatibility-checks-to-your-ci-pipeline class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#add-v3-compatibility-checks-to-your-ci-pipeline aria-label=Anchor>#</a></span></h3><p>It&rsquo;s impossible to manually verify hundreds of DAGs. We added a CI job that automatically checks v3 compatibility at the MR (Merge Request) stage.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># .gitlab-ci.yml example</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>airflow-v3-compat-check</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>stage</span><span class=p>:</span><span class=w> </span><span class=l>test</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>apache/airflow:3.0.6-python3.12</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>pip install -r requirements.txt</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>python -m py_compile dags/**/*.py</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>airflow dags list --output table</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>allow_failure</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>  </span><span class=c># Start as warning-only, then switch to required</span></span></span></code></pre></div></div><p>Start with <code>allow_failure: true</code> to get a picture of the current state, then switch to mandatory checks as the migration deadline approaches.</p><h3 class="relative group">Intentionally Keep the Migration Hurdle High<div id=intentionally-keep-the-migration-hurdle-high class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#intentionally-keep-the-migration-hurdle-high aria-label=Anchor>#</a></span></h3><p>This was the most important lesson we learned.</p><p>We could have applied a blanket compatibility patch to all DAG code. But we <strong>deliberately chose to maintain the migration difficulty.</strong> The reason was clear:</p><blockquote><p>A significant number of DAGs were being operated out of inertia but weren&rsquo;t actually in use.</p></blockquote><p>By treating the migration as an opportunity, we nudged DAG owners into asking themselves <strong>&ldquo;Do we really need this DAG?&rdquo;</strong> As a result, a substantial number of unnecessary DAGs were cleaned up, which directly reduced operational overhead.</p><p>The specific process:</p><ol><li>Compile a list of inactive DAGs and organize them in a shared spreadsheet</li><li>Notify DAG owners/departments and ask them to confirm whether each DAG is still needed by a deadline</li><li>Deactivate DAGs with no response by the deadline</li><li>DAG owners perform v3 compatibility patches themselves</li></ol><h3 class="relative group">Proactively Update Custom Provider Packages<div id=proactively-update-custom-provider-packages class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#proactively-update-custom-provider-packages aria-label=Anchor>#</a></span></h3><p>If you maintain in-house custom operators or utilities as a Provider package, the key is to <strong>prepare a compatibility layer that absorbs Airflow core&rsquo;s breaking changes</strong> ahead of time.</p><p>We incrementally updated our custom Provider package across four releases:</p><ul><li>v3.0.0: Basic compatibility</li><li>v3.0.1: Operator argument validation support</li><li>v3.0.2: Compatibility layer for deprecated context variables</li><li>v3.0.3: Documentation and minor bug fixes</li></ul><p>The approach was to minimize changes to user-facing code while handling v2/v3 branching logic internally within the Provider package.</p><h3 class="relative group">Helm Chart Updates<div id=helm-chart-updates class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#helm-chart-updates aria-label=Anchor>#</a></span></h3><p>If you run Airflow on Kubernetes, the Helm chart needs to be updated as well. This is because the DAG Processor component and the API Server separation introduced in 3.x must be reflected.</p><p>A safe two-step approach is to first verify compatibility with the existing chart version, then update to the latest stable version once things have stabilized.</p><hr><h2 class="relative group">FAB Auth Manager Issue<div id=fab-auth-manager-issue class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#fab-auth-manager-issue aria-label=Anchor>#</a></span></h2><p>With the full web UI rebuild to React in 3.x, <strong>the existing Flask App Builder (FAB)-based Auth Manager was removed from the default package.</strong> If you&rsquo;re using a custom Security Manager, you&rsquo;ll need to install the package separately and update your code.</p><div class=highlight-wrapper><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Failed to import WoowaSecurityManager, using default security manager</span></span></code></pre></div></div><p>If you see this error, you need to explicitly install the FAB Auth Manager package and update the import paths.</p><hr><h2 class="relative group">Closing Thoughts<div id=closing-thoughts class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#closing-thoughts aria-label=Anchor>#</a></span></h2><p>Migrating to Airflow 3.x is not a simple version upgrade. It requires extensive work spanning architectural changes (API Server-centric design), code compatibility updates, and infrastructure modifications.</p><p>Here are the key lessons summarized:</p><ol><li><strong>Upgrade in phases</strong> &ndash; Don&rsquo;t jump straight to the latest version. Follow the path: 2.11 → 3.0.x → Python upgrade → 3.1.x.</li><li><strong>Automate verification in CI</strong> &ndash; It&rsquo;s impossible for humans to manually check the compatibility of hundreds of DAGs.</li><li><strong>Treat the migration as a cleanup opportunity</strong> &ndash; Intentionally maintain the migration hurdle to naturally filter out unnecessary DAGs.</li><li><strong>Proactively update custom Providers</strong> &ndash; A compatibility layer that minimizes changes to user code is the key.</li></ol><p>Don&rsquo;t be complacent just because there&rsquo;s still time until the Airflow 2.x EOL. Migrations in large-scale environments take longer than expected. It&rsquo;s not too late to start now.</p><p><strong>References:</strong></p><ul><li><a href=https://airflow.apache.org/docs/apache-airflow/stable/howto/upgrading-to-3.html target=_blank rel=noreferrer>Upgrading to Airflow 3 - Apache Airflow Documentation</a></li><li><a href=https://airflow.apache.org/blog/airflow-three-point-zero-is-here/ target=_blank rel=noreferrer>Apache Airflow 3 is Generally Available!</a></li><li><a href=https://airflow.apache.org/docs/apache-airflow/stable/release_notes.html target=_blank rel=noreferrer>Airflow 3.x Release Notes</a></li></ul></div><section class="flex flex-row flex-wrap justify-center pt-4 text-xl"><a target=_blank class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://nanta-data.dev/posts/airflow-3-migration-guide/&amp;title=Airflow%203.0%20Migration%20Guide:%20Lessons%20from%20a%20Large-Scale%20DAG%20Environment" title="Share on LinkedIn" aria-label="Share on LinkedIn"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg>
</span></a><a target=_blank class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://reddit.com/submit/?url=https://nanta-data.dev/posts/airflow-3-migration-guide/&amp;resubmit=true&amp;title=Airflow%203.0%20Migration%20Guide:%20Lessons%20from%20a%20Large-Scale%20DAG%20Environment" title="Submit to Reddit" aria-label="Submit to Reddit"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M201.5 305.5c-13.8.0-24.9-11.1-24.9-24.6.0-13.8 11.1-24.9 24.9-24.9 13.6.0 24.6 11.1 24.6 24.9.0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4.0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8.0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7.0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9.0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5.0 52.6 59.2 95.2 132 95.2 73.1.0 132.3-42.6 132.3-95.2.0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6.0-2.2-2.2-6.1-2.2-8.3.0-2.5 2.5-2.5 6.4.0 8.6 22.8 22.8 87.3 22.8 110.2.0 2.5-2.2 2.5-6.1.0-8.6-2.2-2.2-6.1-2.2-8.3.0zm7.7-75c-13.6.0-24.6 11.1-24.6 24.9.0 13.6 11.1 24.6 24.6 24.6 13.8.0 24.9-11.1 24.9-24.6.0-13.8-11-24.9-24.9-24.9z"/></svg>
</span></a><a target=_blank class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="mailto:?body=https://nanta-data.dev/posts/airflow-3-migration-guide/&amp;subject=Airflow%203.0%20Migration%20Guide:%20Lessons%20from%20a%20Large-Scale%20DAG%20Environment" title="Send via email" aria-label="Send via email"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1-27.64 140.9 68.65 266.2 199.1 285.1 19.01 2.888 36.17-12.26 36.17-31.49l1e-4-.6631c0-15.74-11.44-28.88-26.84-31.24-84.35-12.98-149.2-86.13-149.2-174.2.0-102.9 88.61-185.5 193.4-175.4 91.54 8.869 158.6 91.25 158.6 183.2v16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98.0036c-7.299.0-13.2 4.992-15.12 11.68-24.85-12.15-54.24-16.38-86.06-5.106-38.75 13.73-68.12 48.91-73.72 89.64-9.483 69.01 43.81 128 110.9 128 26.44.0 50.43-9.544 69.59-24.88 24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3c0-149.2-133.9-265.632-287.3-235.57zM239.1 304.3c-26.47.0-48-21.56-48-48.05s21.53-48.05 48-48.05 48 21.56 48 48.05-20.6 48.05-48 48.05z"/></svg></span></a></section></div></section><footer class="pt-8 max-w-prose print:hidden"><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span class="flex flex-col"><a class="flex text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" href=/posts/nvidia-mig-setup-guide/><span class=leading-6><span class="inline-block rtl:rotate-180">&larr;</span>&ensp;NVIDIA MIG Setup Guide: Splitting One A100 GPU Into Many
</span></a><span class="ms-6 mt-1 text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2026-02-23T00:00:00+00:00>23 February 2026</time>
</span></span><span class="flex flex-col items-end"><a class="flex text-right text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" href=/posts/2026-data-engineering-trends/><span class=leading-6>2026 Data Engineering Trends and Where Large-Scale Platforms Stand&ensp;<span class="inline-block rtl:rotate-180">&rarr;</span>
</span></a><span class="me-6 mt-1 text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2026-02-23T00:00:00+00:00>23 February 2026</time></span></span></div></div></footer></article><div id=scroll-to-top class="fixed bottom-6 end-6 z-50 transform translate-y-4 opacity-0 duration-200"><a href=#the-top class="pointer-events-auto flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div></main><footer id=site-footer class="py-10 print:hidden"><nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400"><ul class="flex list-none flex-col sm:flex-row"><li class="flex mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href=/privacy-policy/ title="Privacy Policy">Privacy Policy</a></li></ul></nav><div class="flex items-center justify-between"><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2026
nanta</p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script></footer><div id=search-wrapper class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500" data-url=https://nanta-data.dev/><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=Search tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Close (Esc)">
<span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></body></html>