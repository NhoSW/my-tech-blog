<!doctype html><html lang=ko dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>StarRocks 압축 설정 가이드: 성능과 스토리지 최적화 | OTL - 데이터 엔지니어링</title><meta name=keywords content="starrocks,compression,optimization"><meta name=description content="StarRocks에서 압축 설정을 최적화하여 스토리지 비용을 절감하고 쿼리 성능을 향상시키는 방법을 실무 경험을 바탕으로 정리했습니다."><meta name=author content="Seungwoo Noh"><link rel=canonical href=https://NhoSW.github.io/my-tech-blog/ko/posts/starrocks-compression-guide/><link crossorigin=anonymous href=/my-tech-blog/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css integrity="sha256-2jIR5e+Ge/K3X9WmUVz+1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as=style><link rel=icon href=https://NhoSW.github.io/my-tech-blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://NhoSW.github.io/my-tech-blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://NhoSW.github.io/my-tech-blog/favicon-32x32.png><link rel=apple-touch-icon href=https://NhoSW.github.io/my-tech-blog/apple-touch-icon.png><link rel=mask-icon href=https://NhoSW.github.io/my-tech-blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=ko href=https://NhoSW.github.io/my-tech-blog/ko/posts/starrocks-compression-guide/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XXXXXXXXXX")}</script><meta property="og:url" content="https://NhoSW.github.io/my-tech-blog/ko/posts/starrocks-compression-guide/"><meta property="og:site_name" content="OTL - 데이터 엔지니어링"><meta property="og:title" content="StarRocks 압축 설정 가이드: 성능과 스토리지 최적화"><meta property="og:description" content="StarRocks에서 압축 설정을 최적화하여 스토리지 비용을 절감하고 쿼리 성능을 향상시키는 방법을 실무 경험을 바탕으로 정리했습니다."><meta property="og:locale" content="ko"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-02-23T00:00:00+00:00"><meta property="article:modified_time" content="2026-02-23T00:00:00+00:00"><meta property="article:tag" content="Starrocks"><meta property="article:tag" content="Compression"><meta property="article:tag" content="Optimization"><meta name=twitter:card content="summary"><meta name=twitter:title content="StarRocks 압축 설정 가이드: 성능과 스토리지 최적화"><meta name=twitter:description content="StarRocks에서 압축 설정을 최적화하여 스토리지 비용을 절감하고 쿼리 성능을 향상시키는 방법을 실무 경험을 바탕으로 정리했습니다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"StarRocks 압축 설정 가이드: 성능과 스토리지 최적화","item":"https://NhoSW.github.io/my-tech-blog/ko/posts/starrocks-compression-guide/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"StarRocks 압축 설정 가이드: 성능과 스토리지 최적화","name":"StarRocks 압축 설정 가이드: 성능과 스토리지 최적화","description":"StarRocks에서 압축 설정을 최적화하여 스토리지 비용을 절감하고 쿼리 성능을 향상시키는 방법을 실무 경험을 바탕으로 정리했습니다.","keywords":["starrocks","compression","optimization"],"articleBody":"왜 압축 설정이 중요한가 StarRocks를 운영하다 보면 데이터가 수십 TB 규모로 늘어나는 시점이 반드시 온다. 이때 압축 설정 하나로 스토리지 비용이 30~50% 차이 나는 경우를 여러 번 경험했다. 단순히 저장 공간만의 문제가 아니다. 압축률이 높으면 디스크 I/O가 줄어들어 스캔 성능이 좋아지고, 반대로 압축/해제에 CPU를 많이 쓰면 지연 시간이 늘어난다. 결국 워크로드 특성에 맞는 압축 알고리즘을 선택하는 것이 StarRocks 운영의 핵심 튜닝 포인트 중 하나다.\n지원되는 압축 알고리즘 비교 StarRocks는 여러 압축 알고리즘을 지원한다. 실무에서 주로 사용하는 세 가지를 비교해 보겠다.\n알고리즘 압축률 압축 속도 해제 속도 적합한 워크로드 LZ4 보통 (2~3x) 매우 빠름 매우 빠름 실시간 분석, 저지연 쿼리 ZSTD 높음 (4~6x) 보통 빠름 배치 분석, 콜드 데이터 Snappy 낮음 (1.5~2x) 빠름 빠름 범용, 레거시 호환 ZLIB 높음 (4~5x) 느림 보통 아카이빙, 저빈도 접근 데이터 개인적으로 가장 많이 쓰는 조합은 핫 데이터에 LZ4, 콜드 데이터에 ZSTD다. Snappy는 Hadoop 에코시스템에서 넘어온 데이터를 다룰 때 간혹 사용하지만, 신규 테이블에는 권장하지 않는다.\n테이블 생성 시 압축 설정 방법 테이블을 생성할 때 PROPERTIES에서 compression 속성을 지정하면 된다. 별도로 설정하지 않으면 StarRocks 기본값인 LZ4가 적용된다.\n실시간 분석용 테이블 (LZ4) CREATE TABLE analytics.realtime_events ( event_id BIGINT, user_id BIGINT, event_type VARCHAR(64), event_time DATETIME, properties JSON ) ENGINE = OLAP DUPLICATE KEY(event_id) DISTRIBUTED BY HASH(user_id) BUCKETS 32 PROPERTIES ( \"replication_num\" = \"3\", \"compression\" = \"LZ4\" ); LZ4는 해제 속도가 압도적으로 빠르기 때문에, 대시보드 쿼리처럼 수백 밀리초 이내 응답이 필요한 테이블에 적합하다.\n배치 분석용 테이블 (ZSTD) CREATE TABLE warehouse.order_history ( order_id BIGINT, customer_id BIGINT, order_date DATE, total_amount DECIMAL(18, 2), status VARCHAR(32), items ARRAY\u003cSTRUCT\u003csku STRING, qty INT, price DECIMAL(10,2)\u003e\u003e ) ENGINE = OLAP DUPLICATE KEY(order_id) PARTITION BY RANGE(order_date) ( PARTITION p2025 VALUES LESS THAN ('2026-01-01'), PARTITION p2026 VALUES LESS THAN ('2027-01-01') ) DISTRIBUTED BY HASH(customer_id) BUCKETS 16 PROPERTIES ( \"replication_num\" = \"2\", \"compression\" = \"ZSTD\" ); ZSTD는 압축률이 LZ4 대비 1.5~2배 높아서, 파티션 단위로 수억 건 이상 적재되는 히스토리 테이블에서 스토리지 절감 효과가 크다.\n기존 테이블 압축 변경 이미 운영 중인 테이블의 압축 알고리즘을 변경하고 싶다면 ALTER TABLE을 사용할 수 있다. 단, 변경 이후 새로 적재되는 데이터부터 적용되며 기존 세그먼트는 Compaction이 수행되어야 반영된다는 점에 유의하자.\nALTER TABLE warehouse.order_history SET (\"compression\" = \"ZSTD\"); 워크로드별 권장 압축 설정 실무에서 반복적으로 검증한 결과를 기반으로 정리하면 다음과 같다.\n실시간 대시보드 / Ad-hoc 쿼리: LZ4를 권장한다. CPU 오버헤드가 거의 없어 P99 지연 시간에 미치는 영향이 최소화된다. 야간 배치 리포트 / ETL 결과 테이블: ZSTD를 권장한다. 쿼리 빈도가 낮고 데이터 양이 많은 경우 스토리지 절감 효과가 비용에 직접 반영된다. 로그성 대용량 적재: ZSTD를 사용하되 zstd_compression_level을 3 이하로 낮추면 압축 속도와 압축률 사이의 균형을 잡을 수 있다. 압축률과 성능 트레이드오프 실측 결과 약 50억 건(원본 약 800GB)의 이벤트 로그 테이블을 대상으로 압축 알고리즘별 벤치마크를 수행한 결과다.\n지표 LZ4 ZSTD (level 3) ZSTD (level 9) 압축 후 크기 320 GB 195 GB 170 GB 압축률 2.5x 4.1x 4.7x 단순 스캔 쿼리 (Avg) 1.2초 1.5초 1.8초 집계 쿼리 (Avg) 3.4초 3.8초 4.5초 데이터 적재 속도 120 MB/s 95 MB/s 60 MB/s LZ4 대비 ZSTD level 3은 스토리지를 약 39% 절감하면서도 쿼리 지연은 약 10~15%만 증가했다. 반면 ZSTD level 9는 추가 압축 이득 대비 적재 속도 저하가 커서 대부분의 환경에서는 level 3이 최적의 선택이었다.\n운영 팁과 모니터링 마지막으로 실무에서 압축 관련 운영 시 놓치기 쉬운 포인트를 정리한다.\nCompaction 모니터링을 반드시 하자. 압축 알고리즘을 변경한 뒤 Compaction이 완료되기 전까지 혼합 세그먼트가 존재하면 쿼리 성능이 일시적으로 불안정해질 수 있다. BE의 compaction_score 메트릭을 모니터링하여 Compaction 적체 여부를 확인해야 한다.\n테이블 단위로 압축 전략을 분리하라. 하나의 클러스터에서 모든 테이블에 동일한 압축을 적용하는 것은 비효율적이다. 접근 빈도, 데이터 크기, SLA에 따라 테이블별로 다르게 설정하는 것이 올바른 접근이다.\n디스크 사용량 추이를 추적하라. 압축 변경 후 SHOW DATA 명령으로 테이블별 실제 디스크 사용량을 주기적으로 확인하고, 기대한 압축률이 나오지 않는다면 데이터 특성(카디널리티, NULL 비율 등)을 재점검해야 한다.\nSHOW DATA FROM warehouse.order_history; 압축 설정은 한 번 정하고 끝나는 것이 아니라, 데이터 특성과 워크로드가 변함에 따라 지속적으로 재검토해야 하는 영역이다. 이 글이 StarRocks 운영에서 압축 전략을 수립하는 데 실질적인 참고가 되길 바란다.\n","wordCount":"632","inLanguage":"ko","datePublished":"2026-02-23T00:00:00Z","dateModified":"2026-02-23T00:00:00Z","author":{"@type":"Person","name":"Seungwoo Noh"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://NhoSW.github.io/my-tech-blog/ko/posts/starrocks-compression-guide/"},"publisher":{"@type":"Organization","name":"OTL - 데이터 엔지니어링","logo":{"@type":"ImageObject","url":"https://NhoSW.github.io/my-tech-blog/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://NhoSW.github.io/my-tech-blog/ko/ accesskey=h title="OTL - 데이터 엔지니어링 (Alt + H)">OTL - 데이터 엔지니어링</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://NhoSW.github.io/my-tech-blog/ title=English aria-label=English>En</a></li></ul></div></div><ul id=menu><li><a href=https://NhoSW.github.io/ko/my-tech-blog/ko/ title=홈><span>홈</span></a></li><li><a href=https://NhoSW.github.io/ko/my-tech-blog/ko/categories/ title=카테고리><span>카테고리</span></a></li><li><a href=https://NhoSW.github.io/ko/my-tech-blog/ko/tags/ title=태그><span>태그</span></a></li><li><a href=https://NhoSW.github.io/ko/my-tech-blog/ko/archives/ title=아카이브><span>아카이브</span></a></li><li><a href=https://NhoSW.github.io/ko/my-tech-blog/ko/search/ title="검색 (Alt + /)" accesskey=/><span>검색</span></a></li><li><a href=https://NhoSW.github.io/ko/my-tech-blog/ko/about/ title=소개><span>소개</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://NhoSW.github.io/my-tech-blog/ko/>홈</a></div><h1 class="post-title entry-hint-parent">StarRocks 압축 설정 가이드: 성능과 스토리지 최적화</h1><div class=post-meta><span title='2026-02-23 00:00:00 +0000 UTC'>2026년 2월 23일</span>&nbsp;·&nbsp;<span>3 분</span>&nbsp;·&nbsp;<span>Seungwoo Noh</span>&nbsp;|&nbsp;<span>
<a href=https://github.com/NhoSW/my-tech-blog/tree/main/content/posts/starrocks-compression-guide.md rel="noopener noreferrer edit" target=_blank>Suggest Changes</a></span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>목차</span></summary><div class=inner><ul><li><a href=#%ec%99%9c-%ec%95%95%ec%b6%95-%ec%84%a4%ec%a0%95%ec%9d%b4-%ec%a4%91%ec%9a%94%ed%95%9c%ea%b0%80 aria-label="왜 압축 설정이 중요한가">왜 압축 설정이 중요한가</a></li><li><a href=#%ec%a7%80%ec%9b%90%eb%90%98%eb%8a%94-%ec%95%95%ec%b6%95-%ec%95%8c%ea%b3%a0%eb%a6%ac%ec%a6%98-%eb%b9%84%ea%b5%90 aria-label="지원되는 압축 알고리즘 비교">지원되는 압축 알고리즘 비교</a></li><li><a href=#%ed%85%8c%ec%9d%b4%eb%b8%94-%ec%83%9d%ec%84%b1-%ec%8b%9c-%ec%95%95%ec%b6%95-%ec%84%a4%ec%a0%95-%eb%b0%a9%eb%b2%95 aria-label="테이블 생성 시 압축 설정 방법">테이블 생성 시 압축 설정 방법</a><ul><li><a href=#%ec%8b%a4%ec%8b%9c%ea%b0%84-%eb%b6%84%ec%84%9d%ec%9a%a9-%ed%85%8c%ec%9d%b4%eb%b8%94-lz4 aria-label="실시간 분석용 테이블 (LZ4)">실시간 분석용 테이블 (LZ4)</a></li><li><a href=#%eb%b0%b0%ec%b9%98-%eb%b6%84%ec%84%9d%ec%9a%a9-%ed%85%8c%ec%9d%b4%eb%b8%94-zstd aria-label="배치 분석용 테이블 (ZSTD)">배치 분석용 테이블 (ZSTD)</a></li><li><a href=#%ea%b8%b0%ec%a1%b4-%ed%85%8c%ec%9d%b4%eb%b8%94-%ec%95%95%ec%b6%95-%eb%b3%80%ea%b2%bd aria-label="기존 테이블 압축 변경">기존 테이블 압축 변경</a></li></ul></li><li><a href=#%ec%9b%8c%ed%81%ac%eb%a1%9c%eb%93%9c%eb%b3%84-%ea%b6%8c%ec%9e%a5-%ec%95%95%ec%b6%95-%ec%84%a4%ec%a0%95 aria-label="워크로드별 권장 압축 설정">워크로드별 권장 압축 설정</a></li><li><a href=#%ec%95%95%ec%b6%95%eb%a5%a0%ea%b3%bc-%ec%84%b1%eb%8a%a5-%ed%8a%b8%eb%a0%88%ec%9d%b4%eb%93%9c%ec%98%a4%ed%94%84-%ec%8b%a4%ec%b8%a1-%ea%b2%b0%ea%b3%bc aria-label="압축률과 성능 트레이드오프 실측 결과">압축률과 성능 트레이드오프 실측 결과</a></li><li><a href=#%ec%9a%b4%ec%98%81-%ed%8c%81%ea%b3%bc-%eb%aa%a8%eb%8b%88%ed%84%b0%eb%a7%81 aria-label="운영 팁과 모니터링">운영 팁과 모니터링</a></li></ul></div></details></div><div class=post-content><h2 id=왜-압축-설정이-중요한가>왜 압축 설정이 중요한가<a hidden class=anchor aria-hidden=true href=#왜-압축-설정이-중요한가>#</a></h2><p>StarRocks를 운영하다 보면 데이터가 수십 TB 규모로 늘어나는 시점이 반드시 온다. 이때 압축 설정 하나로 스토리지 비용이 30~50% 차이 나는 경우를 여러 번 경험했다. 단순히 저장 공간만의 문제가 아니다. 압축률이 높으면 디스크 I/O가 줄어들어 스캔 성능이 좋아지고, 반대로 압축/해제에 CPU를 많이 쓰면 지연 시간이 늘어난다. 결국 워크로드 특성에 맞는 압축 알고리즘을 선택하는 것이 StarRocks 운영의 핵심 튜닝 포인트 중 하나다.</p><h2 id=지원되는-압축-알고리즘-비교>지원되는 압축 알고리즘 비교<a hidden class=anchor aria-hidden=true href=#지원되는-압축-알고리즘-비교>#</a></h2><p>StarRocks는 여러 압축 알고리즘을 지원한다. 실무에서 주로 사용하는 세 가지를 비교해 보겠다.</p><table><thead><tr><th>알고리즘</th><th>압축률</th><th>압축 속도</th><th>해제 속도</th><th>적합한 워크로드</th></tr></thead><tbody><tr><td><strong>LZ4</strong></td><td>보통 (2~3x)</td><td>매우 빠름</td><td>매우 빠름</td><td>실시간 분석, 저지연 쿼리</td></tr><tr><td><strong>ZSTD</strong></td><td>높음 (4~6x)</td><td>보통</td><td>빠름</td><td>배치 분석, 콜드 데이터</td></tr><tr><td><strong>Snappy</strong></td><td>낮음 (1.5~2x)</td><td>빠름</td><td>빠름</td><td>범용, 레거시 호환</td></tr><tr><td><strong>ZLIB</strong></td><td>높음 (4~5x)</td><td>느림</td><td>보통</td><td>아카이빙, 저빈도 접근 데이터</td></tr></tbody></table><p>개인적으로 가장 많이 쓰는 조합은 <strong>핫 데이터에 LZ4, 콜드 데이터에 ZSTD</strong>다. Snappy는 Hadoop 에코시스템에서 넘어온 데이터를 다룰 때 간혹 사용하지만, 신규 테이블에는 권장하지 않는다.</p><h2 id=테이블-생성-시-압축-설정-방법>테이블 생성 시 압축 설정 방법<a hidden class=anchor aria-hidden=true href=#테이블-생성-시-압축-설정-방법>#</a></h2><p>테이블을 생성할 때 <code>PROPERTIES</code>에서 <code>compression</code> 속성을 지정하면 된다. 별도로 설정하지 않으면 StarRocks 기본값인 LZ4가 적용된다.</p><h3 id=실시간-분석용-테이블-lz4>실시간 분석용 테이블 (LZ4)<a hidden class=anchor aria-hidden=true href=#실시간-분석용-테이블-lz4>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>analytics</span><span class=p>.</span><span class=n>realtime_events</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>event_id</span><span class=w>       </span><span class=nb>BIGINT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>user_id</span><span class=w>        </span><span class=nb>BIGINT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>event_type</span><span class=w>     </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>64</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>event_time</span><span class=w>     </span><span class=n>DATETIME</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>properties</span><span class=w>     </span><span class=n>JSON</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>ENGINE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>OLAP</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>DUPLICATE</span><span class=w> </span><span class=k>KEY</span><span class=p>(</span><span class=n>event_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>DISTRIBUTED</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>HASH</span><span class=p>(</span><span class=n>user_id</span><span class=p>)</span><span class=w> </span><span class=n>BUCKETS</span><span class=w> </span><span class=mi>32</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>PROPERTIES</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s2>&#34;replication_num&#34;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;3&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s2>&#34;compression&#34;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;LZ4&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p>LZ4는 해제 속도가 압도적으로 빠르기 때문에, 대시보드 쿼리처럼 수백 밀리초 이내 응답이 필요한 테이블에 적합하다.</p><h3 id=배치-분석용-테이블-zstd>배치 분석용 테이블 (ZSTD)<a hidden class=anchor aria-hidden=true href=#배치-분석용-테이블-zstd>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>warehouse</span><span class=p>.</span><span class=n>order_history</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_id</span><span class=w>       </span><span class=nb>BIGINT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>customer_id</span><span class=w>    </span><span class=nb>BIGINT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>order_date</span><span class=w>     </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>total_amount</span><span class=w>   </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>18</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>status</span><span class=w>         </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>32</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>items</span><span class=w>          </span><span class=nb>ARRAY</span><span class=o>&lt;</span><span class=n>STRUCT</span><span class=o>&lt;</span><span class=n>sku</span><span class=w> </span><span class=n>STRING</span><span class=p>,</span><span class=w> </span><span class=n>qty</span><span class=w> </span><span class=nb>INT</span><span class=p>,</span><span class=w> </span><span class=n>price</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=o>&gt;&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>ENGINE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>OLAP</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>DUPLICATE</span><span class=w> </span><span class=k>KEY</span><span class=p>(</span><span class=n>order_id</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>PARTITION</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>RANGE</span><span class=p>(</span><span class=n>order_date</span><span class=p>)</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>PARTITION</span><span class=w> </span><span class=n>p2025</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=k>LESS</span><span class=w> </span><span class=k>THAN</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;2026-01-01&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>PARTITION</span><span class=w> </span><span class=n>p2026</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=k>LESS</span><span class=w> </span><span class=k>THAN</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;2027-01-01&#39;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>DISTRIBUTED</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>HASH</span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span><span class=w> </span><span class=n>BUCKETS</span><span class=w> </span><span class=mi>16</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=n>PROPERTIES</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s2>&#34;replication_num&#34;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;2&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s2>&#34;compression&#34;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;ZSTD&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p>ZSTD는 압축률이 LZ4 대비 1.5~2배 높아서, 파티션 단위로 수억 건 이상 적재되는 히스토리 테이블에서 스토리지 절감 효과가 크다.</p><h3 id=기존-테이블-압축-변경>기존 테이블 압축 변경<a hidden class=anchor aria-hidden=true href=#기존-테이블-압축-변경>#</a></h3><p>이미 운영 중인 테이블의 압축 알고리즘을 변경하고 싶다면 <code>ALTER TABLE</code>을 사용할 수 있다. 단, 변경 이후 새로 적재되는 데이터부터 적용되며 기존 세그먼트는 Compaction이 수행되어야 반영된다는 점에 유의하자.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>ALTER</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>warehouse</span><span class=p>.</span><span class=n>order_history</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=k>SET</span><span class=w> </span><span class=p>(</span><span class=s2>&#34;compression&#34;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&#34;ZSTD&#34;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><h2 id=워크로드별-권장-압축-설정>워크로드별 권장 압축 설정<a hidden class=anchor aria-hidden=true href=#워크로드별-권장-압축-설정>#</a></h2><p>실무에서 반복적으로 검증한 결과를 기반으로 정리하면 다음과 같다.</p><ul><li><strong>실시간 대시보드 / Ad-hoc 쿼리</strong>: LZ4를 권장한다. CPU 오버헤드가 거의 없어 P99 지연 시간에 미치는 영향이 최소화된다.</li><li><strong>야간 배치 리포트 / ETL 결과 테이블</strong>: ZSTD를 권장한다. 쿼리 빈도가 낮고 데이터 양이 많은 경우 스토리지 절감 효과가 비용에 직접 반영된다.</li><li><strong>로그성 대용량 적재</strong>: ZSTD를 사용하되 <code>zstd_compression_level</code>을 3 이하로 낮추면 압축 속도와 압축률 사이의 균형을 잡을 수 있다.</li></ul><h2 id=압축률과-성능-트레이드오프-실측-결과>압축률과 성능 트레이드오프 실측 결과<a hidden class=anchor aria-hidden=true href=#압축률과-성능-트레이드오프-실측-결과>#</a></h2><p>약 50억 건(원본 약 800GB)의 이벤트 로그 테이블을 대상으로 압축 알고리즘별 벤치마크를 수행한 결과다.</p><table><thead><tr><th>지표</th><th>LZ4</th><th>ZSTD (level 3)</th><th>ZSTD (level 9)</th></tr></thead><tbody><tr><td>압축 후 크기</td><td>320 GB</td><td>195 GB</td><td>170 GB</td></tr><tr><td>압축률</td><td>2.5x</td><td>4.1x</td><td>4.7x</td></tr><tr><td>단순 스캔 쿼리 (Avg)</td><td>1.2초</td><td>1.5초</td><td>1.8초</td></tr><tr><td>집계 쿼리 (Avg)</td><td>3.4초</td><td>3.8초</td><td>4.5초</td></tr><tr><td>데이터 적재 속도</td><td>120 MB/s</td><td>95 MB/s</td><td>60 MB/s</td></tr></tbody></table><p>LZ4 대비 ZSTD level 3은 스토리지를 약 39% 절감하면서도 쿼리 지연은 약 10~15%만 증가했다. 반면 ZSTD level 9는 추가 압축 이득 대비 적재 속도 저하가 커서 대부분의 환경에서는 level 3이 최적의 선택이었다.</p><h2 id=운영-팁과-모니터링>운영 팁과 모니터링<a hidden class=anchor aria-hidden=true href=#운영-팁과-모니터링>#</a></h2><p>마지막으로 실무에서 압축 관련 운영 시 놓치기 쉬운 포인트를 정리한다.</p><p><strong>Compaction 모니터링을 반드시 하자.</strong> 압축 알고리즘을 변경한 뒤 Compaction이 완료되기 전까지 혼합 세그먼트가 존재하면 쿼리 성능이 일시적으로 불안정해질 수 있다. BE의 <code>compaction_score</code> 메트릭을 모니터링하여 Compaction 적체 여부를 확인해야 한다.</p><p><strong>테이블 단위로 압축 전략을 분리하라.</strong> 하나의 클러스터에서 모든 테이블에 동일한 압축을 적용하는 것은 비효율적이다. 접근 빈도, 데이터 크기, SLA에 따라 테이블별로 다르게 설정하는 것이 올바른 접근이다.</p><p><strong>디스크 사용량 추이를 추적하라.</strong> 압축 변경 후 <code>SHOW DATA</code> 명령으로 테이블별 실제 디스크 사용량을 주기적으로 확인하고, 기대한 압축률이 나오지 않는다면 데이터 특성(카디널리티, NULL 비율 등)을 재점검해야 한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SHOW</span><span class=w> </span><span class=k>DATA</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>warehouse</span><span class=p>.</span><span class=n>order_history</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p>압축 설정은 한 번 정하고 끝나는 것이 아니라, 데이터 특성과 워크로드가 변함에 따라 지속적으로 재검토해야 하는 영역이다. 이 글이 StarRocks 운영에서 압축 전략을 수립하는 데 실질적인 참고가 되길 바란다.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://NhoSW.github.io/my-tech-blog/ko/tags/starrocks/>Starrocks</a></li><li><a href=https://NhoSW.github.io/my-tech-blog/ko/tags/compression/>Compression</a></li><li><a href=https://NhoSW.github.io/my-tech-blog/ko/tags/optimization/>Optimization</a></li></ul><nav class=paginav><a class=prev href=https://NhoSW.github.io/my-tech-blog/ko/posts/starrocks-adoption-guide/><span class=title>« 이전 페이지</span><br><span>StarRocks 도입기: 실시간 OLAP으로 데이터 파이프라인을 혁신한 이야기</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share StarRocks 압축 설정 가이드: 성능과 스토리지 최적화 on x" href="https://x.com/intent/tweet/?text=StarRocks%20%ec%95%95%ec%b6%95%20%ec%84%a4%ec%a0%95%20%ea%b0%80%ec%9d%b4%eb%93%9c%3a%20%ec%84%b1%eb%8a%a5%ea%b3%bc%20%ec%8a%a4%ed%86%a0%eb%a6%ac%ec%a7%80%20%ec%b5%9c%ec%a0%81%ed%99%94&amp;url=https%3a%2f%2fNhoSW.github.io%2fmy-tech-blog%2fko%2fposts%2fstarrocks-compression-guide%2f&amp;hashtags=starrocks%2ccompression%2coptimization"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share StarRocks 압축 설정 가이드: 성능과 스토리지 최적화 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fNhoSW.github.io%2fmy-tech-blog%2fko%2fposts%2fstarrocks-compression-guide%2f&amp;title=StarRocks%20%ec%95%95%ec%b6%95%20%ec%84%a4%ec%a0%95%20%ea%b0%80%ec%9d%b4%eb%93%9c%3a%20%ec%84%b1%eb%8a%a5%ea%b3%bc%20%ec%8a%a4%ed%86%a0%eb%a6%ac%ec%a7%80%20%ec%b5%9c%ec%a0%81%ed%99%94&amp;summary=StarRocks%20%ec%95%95%ec%b6%95%20%ec%84%a4%ec%a0%95%20%ea%b0%80%ec%9d%b4%eb%93%9c%3a%20%ec%84%b1%eb%8a%a5%ea%b3%bc%20%ec%8a%a4%ed%86%a0%eb%a6%ac%ec%a7%80%20%ec%b5%9c%ec%a0%81%ed%99%94&amp;source=https%3a%2f%2fNhoSW.github.io%2fmy-tech-blog%2fko%2fposts%2fstarrocks-compression-guide%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share StarRocks 압축 설정 가이드: 성능과 스토리지 최적화 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fNhoSW.github.io%2fmy-tech-blog%2fko%2fposts%2fstarrocks-compression-guide%2f&title=StarRocks%20%ec%95%95%ec%b6%95%20%ec%84%a4%ec%a0%95%20%ea%b0%80%ec%9d%b4%eb%93%9c%3a%20%ec%84%b1%eb%8a%a5%ea%b3%bc%20%ec%8a%a4%ed%86%a0%eb%a6%ac%ec%a7%80%20%ec%b5%9c%ec%a0%81%ed%99%94"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share StarRocks 압축 설정 가이드: 성능과 스토리지 최적화 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fNhoSW.github.io%2fmy-tech-blog%2fko%2fposts%2fstarrocks-compression-guide%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share StarRocks 압축 설정 가이드: 성능과 스토리지 최적화 on whatsapp" href="https://api.whatsapp.com/send?text=StarRocks%20%ec%95%95%ec%b6%95%20%ec%84%a4%ec%a0%95%20%ea%b0%80%ec%9d%b4%eb%93%9c%3a%20%ec%84%b1%eb%8a%a5%ea%b3%bc%20%ec%8a%a4%ed%86%a0%eb%a6%ac%ec%a7%80%20%ec%b5%9c%ec%a0%81%ed%99%94%20-%20https%3a%2f%2fNhoSW.github.io%2fmy-tech-blog%2fko%2fposts%2fstarrocks-compression-guide%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share StarRocks 압축 설정 가이드: 성능과 스토리지 최적화 on telegram" href="https://telegram.me/share/url?text=StarRocks%20%ec%95%95%ec%b6%95%20%ec%84%a4%ec%a0%95%20%ea%b0%80%ec%9d%b4%eb%93%9c%3a%20%ec%84%b1%eb%8a%a5%ea%b3%bc%20%ec%8a%a4%ed%86%a0%eb%a6%ac%ec%a7%80%20%ec%b5%9c%ec%a0%81%ed%99%94&amp;url=https%3a%2f%2fNhoSW.github.io%2fmy-tech-blog%2fko%2fposts%2fstarrocks-compression-guide%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share StarRocks 압축 설정 가이드: 성능과 스토리지 최적화 on ycombinator" href="https://news.ycombinator.com/submitlink?t=StarRocks%20%ec%95%95%ec%b6%95%20%ec%84%a4%ec%a0%95%20%ea%b0%80%ec%9d%b4%eb%93%9c%3a%20%ec%84%b1%eb%8a%a5%ea%b3%bc%20%ec%8a%a4%ed%86%a0%eb%a6%ac%ec%a7%80%20%ec%b5%9c%ec%a0%81%ed%99%94&u=https%3a%2f%2fNhoSW.github.io%2fmy-tech-blog%2fko%2fposts%2fstarrocks-compression-guide%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://NhoSW.github.io/my-tech-blog/ko/>OTL - 데이터 엔지니어링</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="복사";function s(){t.innerHTML="복사 완료!",setTimeout(()=>{t.innerHTML="복사"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>